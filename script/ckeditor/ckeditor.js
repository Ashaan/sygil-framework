/*
Copyright (c) 2003-2009, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/

(function(){if(!window.CKEDITOR)window.CKEDITOR=(function(){return{timestamp:'9128',_:{},status:'unloaded',basePath:(function(){var a='',b=document.getElementsByTagName('script');for(var c=0;c<b.length;c++){var d=b[c].src.match(/(^|.*[\\\/])ckeditor(?:_basic)?(?:_source)?.js(?:\?.*)?$/i);if(d){a=d[1];break;}}if(a.indexOf('://')==-1)if(a.indexOf('/')===0)a=location.href.match(/^.*?:\/\/[^\/]*/)[0]+a;else a=location.href.match(/^[^\?]*\/(?:)/)[0]+a;return a;})(),getUrl:function(a){if(a.indexOf('://')==-1&&a.indexOf('/')!==0)a=this.basePath+a;if(this.timestamp)a+=(a.indexOf('?')>=0?'&':'?')+('t=')+this.timestamp;return a;}};})();var a=CKEDITOR;if(!a.event){a.event=function(){(this._||(this._={})).events={};};a.event.implementOn=function(b){a.event.call(b);for(var c in a.event.prototype)if(b[c]==undefined)b[c]=a.event.prototype[c];};a.event.prototype=(function(){var b=function(c){this.name=c;this.listeners=[];};b.prototype={getListenerIndex:function(c){for(var d=0,e=this.listeners;d<e.length;d++)if(e[d].fn==c)return d;return-1;}};return{on:function(c,d,e,f,g){var h=this._.events[c]||(this._.events[c]=new b(c));if(h.getListenerIndex(d)<0){var i=h.listeners;if(!e)e=this;if(isNaN(g))g=10;var j=function(l,m,n,o){var p={name:c,sender:this,editor:l,data:m,listenerData:f,stop:n,cancel:o};d.call(e,p);return p.data;};j.fn=d;j.priority=g;for(var k=i.length-1;k>=0;k--)if(i[k].priority<=g){i.splice(k+1,0,j);return;}i.unshift(j);}},fire:(function(){var c=false,d=function(){c=true;},e=false,f=function(){e=true;};return function(g,h,i){var j=this._.events[g],k=c,l=e;c=e=false;if(j)for(var m=0,n=j.listeners;m<n.length;m++){var o=n[m].call(this,i,h,d,f);if(typeof o!='undefined')h=o;if(c||e)break;}var p=e||(typeof h=='undefined'?false:h);c=k;e=l;return p;};})(),fireOnce:function(c,d,e){var f=this.fire(c,d,e);delete this._.events[c];return f;},removeListener:function(c,d){var e=this._.events[c];if(e){var f=e.getListenerIndex(d);if(f>=0)e.listeners.splice(f,1);}},hasListeners:function(c){var d=this._.events[c];return d&&d.listeners.length>0;}};})();}if(!a.editor){a.ELEMENT_MODE_NONE=0;a.ELEMENT_MODE_REPLACE=1;a.ELEMENT_MODE_APPENDTO=2;a.editor=function(b,c,d){var e=this;e._={instanceConfig:b,element:c};e.elementMode=d||0;a.event.call(e);e._init();};a.editor.replace=function(b,c){var d=b;if(typeof d!='object'){d=document.getElementById(b);if(!d){var e=0,f=document.getElementsByName(b);while((d=f[e++])&&(d.tagName.toLowerCase()!='textarea')){}}if(!d)throw '[CKEDITOR.editor.replace] The element with id or name "'+b+'" was not found.';
}d.style.visibility='hidden';return new a.editor(c,d,1);};a.editor.appendTo=function(b,c){if(typeof b!='object'){b=document.getElementById(b);if(!b)throw '[CKEDITOR.editor.appendTo] The element with id "'+b+'" was not found.';}return new a.editor(c,b,2);};a.editor.prototype={_init:function(){var b=a.editor._pending||(a.editor._pending=[]);b.push(this);},fire:function(b,c){return a.event.prototype.fire.call(this,b,c,this);},fireOnce:function(b,c){return a.event.prototype.fireOnce.call(this,b,c,this);}};a.event.implementOn(a.editor.prototype);}if(!a.env)a.env=(function(){var b=navigator.userAgent.toLowerCase(),c=window.opera,d={ie:/*@cc_on!@*/false,opera:!!c&&c.version,webkit:b.indexOf(' applewebkit/')>-1,air:b.indexOf(' adobeair/')>-1,mac:b.indexOf('macintosh')>-1};d.gecko=navigator.product=='Gecko'&&!d.webkit&&!d.opera;var e=0;if(d.ie){e=parseFloat(b.match(/msie (\d+)/)[1]);d.ie6Compat=e<7||document.compatMode=='BackCompat';}if(d.gecko){var f=b.match(/rv:([\d\.]+)/);if(f){f=f[1].split('.');e=f[0]*10000+(f[1]||0)*(100)+(f[2]||0);}}if(d.opera)e=parseFloat(c.version());if(d.air)e=parseFloat(b.match(/ adobeair\/(\d+)/)[1]);if(d.webkit)e=parseFloat(b.match(/ applewebkit\/(\d+)/)[1]);d.version=e;d.isCompatible=d.ie&&e>=6||d.gecko&&e>=10801||d.opera&&e>=9.5||d.air&&e>=1||d.webkit&&e>=522||false;return d;})();var b=a.env;var c=b.ie;if(a.status=='unloaded')(function(){a.event.implementOn(a);a.loadFullCore=function(){if(a.status!='basic_ready'){a.loadFullCore._load=true;return;}delete a.loadFullCore;var e=document.createElement('script');e.type='text/javascript';e.src=a.basePath+'ckeditor.js';document.getElementsByTagName('head')[0].appendChild(e);};a.loadFullCoreTimeout=0;a.replaceClass='ckeditor';a.replaceByClassEnabled=true;var d=function(e,f,g){if(b.isCompatible){if(a.loadFullCore)a.loadFullCore();var h=g(e,f);a.add(h);return h;}return null;};a.replace=function(e,f){return d(e,f,a.editor.replace);};a.appendTo=function(e,f){return d(e,f,a.editor.appendTo);};a.add=function(e){var f=this._.pending||(this._.pending=[]);f.push(e);};a.replaceAll=function(){var e=document.getElementsByTagName('textarea');for(var f=0;f<e.length;f++){var g=null,h=e[f],i=h.name;if(!h.name&&!h.id)continue;if(typeof arguments[0]=='string'){var j=new RegExp('(?:^| )'+arguments[0]+'(?:$| )');if(!j.test(h.className))continue;}else if(typeof arguments[0]=='function'){g={};if(arguments[0](h,g)===false)continue;}this.replace(h,g);}};(function(){var e=function(){var f=a.loadFullCore,g=a.loadFullCoreTimeout;
if(a.replaceByClassEnabled)a.replaceAll(a.replaceClass);a.status='basic_ready';if(f&&f._load)f();else if(g)setTimeout(function(){if(a.loadFullCore)a.loadFullCore();},g*1000);};if(window.addEventListener)window.addEventListener('load',e,false);else if(window.attachEvent)window.attachEvent('onload',e);})();a.status='basic_loaded';})();a.dom={};var d=a.dom;a.tools={extend:function(e){var f=arguments.length,g=arguments[f-1];if(typeof g=='boolean')f--;else g=false;for(var h=1;h<f;h++){var i=arguments[h];for(var j in i)if(g||e[j]==undefined)e[j]=i[j];}return e;},prototypedCopy:function(e){var f=function(){};f.prototype=e;return new f();},isArray:function(e){return!!e&&e instanceof Array;},cssStyleToDomStyle:function(e){if(e=='float')return 'cssFloat';else return e.replace(/-./g,function(f){return f.substr(1).toUpperCase();});},htmlEncode:function(e){var f=function(g){var h=new d.element('span');h.setText(g);return h.getHtml();};this.htmlEncode=f('>')=='>'?function(g){return f(g).replace(/>/g,'&gt;');}:f;return this.htmlEncode(e);},getNextNumber:(function(){var e=0;return function(){return++e;};})(),override:function(e,f){return f(e);},setTimeout:function(e,f,g,h,i){if(!i)i=window;if(!g)g=i;return i.setTimeout(function(){if(h)e.apply(g,[].concat(h));else e.apply(g);},f||0);},trim:(function(){var e=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(f){return f.replace(e,'');};})(),ltrim:(function(){var e=/^[ \t\n\r]+/g;return function(f){return f.replace(e,'');};})(),rtrim:(function(){var e=/[ \t\n\r]+$/g;return function(f){return f.replace(e,'');};})(),indexOf:function(e,f){for(var g=0,h=e.length;g<h;g++)if(e[g]==f)return g;return-1;}};var e=a.tools;a.dtd=(function(){var f=e.extend,g={isindex:1,fieldset:1},h={input:1,button:1,select:1,textarea:1,label:1},i=f({a:1},h),j=f({iframe:1},i),k={hr:1,ul:1,menu:1,div:1,blockquote:1,noscript:1,table:1,center:1,address:1,dir:1,pre:1,h5:1,dl:1,h4:1,noframes:1,h6:1,ol:1,h1:1,h3:1,h2:1},l={ins:1,del:1,script:1},m=f({b:1,acronym:1,bdo:1,'var':1,'#':1,abbr:1,code:1,br:1,i:1,cite:1,kbd:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,dfn:1,span:1},l),n=f({sub:1,img:1,object:1,sup:1,basefont:1,map:1,applet:1,font:1,big:1,small:1},m),o=f({p:1},n),p=f({iframe:1},n,h),q={img:1,noscript:1,br:1,kbd:1,center:1,button:1,basefont:1,h5:1,h4:1,samp:1,h6:1,ol:1,h1:1,h3:1,h2:1,form:1,font:1,'#':1,select:1,menu:1,ins:1,abbr:1,label:1,code:1,table:1,script:1,cite:1,input:1,iframe:1,strong:1,textarea:1,noframes:1,big:1,small:1,span:1,hr:1,sub:1,bdo:1,'var':1,div:1,object:1,sup:1,strike:1,dir:1,map:1,dl:1,applet:1,del:1,isindex:1,fieldset:1,ul:1,b:1,acronym:1,a:1,blockquote:1,i:1,u:1,s:1,tt:1,address:1,q:1,pre:1,p:1,em:1,dfn:1},r=f({a:1},p),s={tr:1},t={'#':1},u=f({param:1},q),v=f({form:1},g,j,k,o),w={li:1};
return{$block:{address:1,blockquote:1,center:1,dir:1,div:1,dl:1,fieldset:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,hr:1,isindex:1,menu:1,noframes:1,ol:1,p:1,pre:1,table:1,ul:1},$empty:{area:1,base:1,br:1,col:1,hr:1,img:1,input:1,link:1,meta:1,param:1},$listItem:{dd:1,dt:1,li:1},$removeEmpty:{abbr:1,acronym:1,address:1,b:1,bdo:1,big:1,cite:1,code:1,dfn:1,em:1,font:1,i:1,kbd:1,q:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,'var':1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},col:{},tr:{td:1,th:1},img:{},colgroup:{col:1},noscript:v,td:v,br:{},th:v,center:v,kbd:r,button:f(o,k),basefont:{},h5:r,h4:r,samp:r,h6:r,ol:w,h1:r,h3:r,option:t,h2:r,form:f(g,j,k,o),select:{optgroup:1,option:1},font:r,ins:v,menu:w,abbr:r,label:r,table:{thead:1,col:1,tbody:1,tr:1,colgroup:1,caption:1,tfoot:1},code:r,script:t,tfoot:s,cite:r,li:v,input:{},iframe:v,strong:r,textarea:t,noframes:v,big:r,small:r,span:r,hr:{},dt:r,sub:r,optgroup:{option:1},param:{},bdo:r,'var':r,div:v,object:u,sup:r,dd:v,strike:r,area:{},dir:w,map:f({area:1,form:1,p:1},g,l,k),applet:u,dl:{dt:1,dd:1},del:v,isindex:{},fieldset:f({legend:1},q),thead:s,ul:w,acronym:r,b:r,a:p,blockquote:v,caption:r,i:r,u:r,tbody:s,s:r,address:f(j,o),tt:r,legend:r,q:r,pre:f(m,i),p:r,em:r,dfn:r};})();var f=a.dtd;d.event=function(g){this.$=g;};d.event.prototype={getKey:function(){return this.$.keyCode||this.$.which;},getKeystroke:function(){var h=this;var g=h.getKey();if(h.$.ctrlKey||h.$.metaKey)g+=1000;if(h.$.shiftKey)g+=2000;if(h.$.altKey)g+=4000;return g;},preventDefault:function(g){var h=this.$;if(h.preventDefault)h.preventDefault();else h.returnValue=false;if(g)if(h.stopPropagation)h.stopPropagation();else h.cancelBubble=true;},getTarget:function(){var g=this.$.target||this.$.srcElement;return g?new d.node(g):null;}};a.CTRL=1000;a.SHIFT=2000;a.ALT=4000;d.domObject=function(g){var h=this;if(g){h.$=g;if(!(h._=h.getCustomData('_')))h.setCustomData('_',h._={});if(!h._.events)a.event.call(h);}};d.domObject.prototype=(function(){var g=function(h,i){return function(j){h.fire(i,new d.event(j));};};return{on:function(h){var k=this;var i=k.getCustomData('_cke_nativeListeners')||k.setCustomData('_cke_nativeListeners',{});if(!i[h]){var j=i[h]=g(k,h);if(k.$.addEventListener)k.$.addEventListener(h,j,false);else if(k.$.attachEvent)k.$.attachEvent('on'+h,j);}return a.event.prototype.on.apply(k,arguments);},removeListener:function(h){var k=this;
a.event.prototype.removeListener.apply(k,arguments);if(!k.hasListeners(h)){var i=k.getCustomData('_cke_nativeListeners'),j=i&&i[h];if(j){if(k.$.removeEventListener)k.$.removeEventListener(h,j,false);else if(k.$.detachEvent)k.$.detachEvent(h,j);delete i[h];}}}};})();(function(g){var h={};g.equals=function(i){return i&&i.$===this.$;};g.setCustomData=function(i,j){var k=this.$._cke_expando||(this.$._cke_expando=e.getNextNumber()),l=h[k]||(h[k]={});l[i]=j;return this;};g.getCustomData=function(i){var j=this.$._cke_expando,k=j&&h[j];return k&&k[i]||null;};a.event.implementOn(g);})(d.domObject.prototype);d.node=function(g){if(g){switch(g.nodeType){case 1:return new d.element(g);case 3:return new d.text(g);}d.domObject.call(this,g);}return this;};d.node.prototype=new d.domObject();a.NODE_ELEMENT=1;a.NODE_TEXT=3;a.NODE_COMMENT=8;a.NODE_DOCUMENT_FRAGMENT=11;a.POSITION_IDENTICAL=0;a.POSITION_DISCONNECTED=1;a.POSITION_FOLLOWING=2;a.POSITION_PRECEDING=4;a.POSITION_IS_CONTAINED=8;a.POSITION_CONTAINS=16;e.extend(d.node.prototype,{appendTo:function(g,h){g.append(this,h);return g;},clone:function(g){return new d.node(this.$.cloneNode(g));},hasPrevious:function(){return!!this.$.previousSibling;},hasNext:function(){return!!this.$.nextSibling;},insertAfter:function(g){g.$.parentNode.insertBefore(this.$,g.$.nextSibling);return g;},insertBefore:function(g){g.$.parentNode.insertBefore(this.$,g.$);return g;},insertBeforeMe:function(g){this.$.parentNode.insertBefore(g.$,this.$);return g;},getChild:function(g){var h=this.$;if(!g.slice)h=h.childNodes[g];else while(g.length>0&&h)h=h.childNodes[g.shift()];return h?new d.node(h):null;},getChildCount:function(){return this.$.childNodes.length;},getDocument:function(){var g=new d.document(this.$.ownerDocument||this.$.parentNode.ownerDocument);return(this.getDocument=function(){return g;})();},getIndex:function(){var g=this.$,h=g.parentNode&&g.parentNode.firstChild,i=-1;while(h){i++;if(h==g)return i;h=h.nextSibling;}return-1;},getNext:function(){var g=this.$.nextSibling;return g?new d.node(g):null;},getNextSourceNode:function(g,h){var i=this.$,j=!g&&i.firstChild?i.firstChild:i.nextSibling,k;while(!j&&(k=(k||i).parentNode))j=k.nextSibling;if(!j)return null;if(h&&h!=j.nodeType)return arguments.callee.call({$:j},false,h);return new d.node(j);},getPreviousSourceNode:function(g,h){var i=g?this.$.previousSibling:this.$,j=null;if(!i)return null;if(j=i.previousSibling)while(j.lastChild)j=j.lastChild;else j=i.parentNode;if(!j)return null;if(h&&j.nodeType!=h)return arguments.callee.apply({$:j},false,h);
return new d.node(j);},getPrevious:function(){var g=this.$.previousSibling;return g?new d.node(g):null;},getParent:function(){var g=this.$.parentNode;return g&&g.nodeType==1?new d.node(g):null;},getParents:function(){var g=this,h=[];do h.unshift(g);while(g=g.getParent())return h;},getPosition:function(g){var m=this;var h=m.$,i=g.$;if(h.compareDocumentPosition)return h.compareDocumentPosition(i);if(h==i)return 0;if(m.type!=1||g.type!=1)if(h.parentNode==i)return 8+2;else if(i.parentNode==h)return 16+4;else if(h.parentNode==i.parentNode)return m.getIndex()<g.getIndex()?4:2;else{h=h.parentNode;i=i.parentNode;}if(h.contains(i))return 16+4;if(i.contains(h))return 8+2;if('sourceIndex' in h)return h.sourceIndex<0||i.sourceIndex<0?1:h.sourceIndex<i.sourceIndex?4:2;var j=m.getDocument().$,k=j.createRange(),l=j.createRange();k.selectNode(h);l.selectNode(i);return k.compareBoundaryPoints(1,l)>0?2:4;},getAscendant:function(g,h){var i=this.$;if(h&&i.nodeName.toLowerCase()==g)return this;while(i=i.parentNode)if(i.nodeName&&i.nodeName.toLowerCase()==g)return new d.node(i);return null;},move:function(g,h){g.append(this.remove(),h);},remove:function(g){var h=this.$,i=h.parentNode;if(i){if(g)for(var j;j=h.firstChild;)i.insertBefore(h.removeChild(j),h);i.removeChild(h);}return this;}});d.nodeList=function(g){this.$=g;};d.nodeList.prototype={count:function(){return this.$.length;},getItem:function(g){return new d.node(this.$[g]);}};d.element=function(g,h){if(typeof g=='string')g=(h?h.$:document).createElement(g);d.domObject.call(this,g);};var g=d.element;g.get=function(h){return h&&(h.$?h:new g(h));};g.prototype=new d.node();g.createFromHtml=function(h,i){var j=new g('div',i);j.setHtml(h);return j.getFirst().remove();};e.extend(g.prototype,{type:1,addClass:function(h){var i=this.$.className;if(i){var j=new RegExp('(?:^|\\s)'+h+'(?:\\s|$)','');if(!j.test(i))i+=' '+h;}this.$.className=i||h;},removeClass:function(h){var i=this.$.className;if(i){var j=new RegExp('(?:^|\\s+)'+h+'(?=\\s|$)','');if(j.test(i)){i=i.replace(j,'').replace(/^\s+/,'');if(i)this.$.className=i;else this.removeAttribute('class');}}},append:function(h,i){if(typeof h=='string')h=new g(h);if(i)this.$.insertBefore(h.$,this.$.firstChild);else this.$.appendChild(h.$);return h;},appendText:function(h){if(this.$.text!=undefined)this.$.text+=h;else this.append(new d.text(h));},breakParent:function(h){var k=this;var i=new d.range(k.getDocument());i.setStartAfter(k);i.setEndAfter(h);var j=i.extractContents();i.insertNode(k.remove());
j.insertAfterNode(k);},contains:c||b.webkit?function(h){var i=this.$;return h.type!=1?i.contains(h.getParent().$):i!=h.$&&i.contains(h.$);}:function(h){return!!(this.$.compareDocumentPosition(h.$)&16);},focus:function(){this.$.focus();},getHtml:function(){return this.$.innerHTML;},setHtml:function(h){return this.$.innerHTML=h;},setText:function(h){g.prototype.setText=this.$.innerText!=undefined?function(i){return this.$.innerText=i;}:function(i){return this.$.textContent=i;};return this.setText(h);},getAttribute:(function(){var h=function(i){return this.$.getAttribute(i,2);};if(c)return function(i){switch(i){case 'class':i='className';break;case 'tabindex':var j=h.call(this,i);if(j!==0&&this.$.tabIndex===0)j=null;return j;break;}return h.call(this,i);};else return h;})(),getChildren:function(){return new d.nodeList(this.$.childNodes);},getComputedStyle:c?function(h){return this.$.currentStyle[e.cssStyleToDomStyle(h)];}:function(h){return this.getWindow().$.getComputedStyle(this.$,'').getPropertyValue(h);},getDtd:function(){var h=f[this.getName()];this.getDtd=function(){return h;};return h;},getElementsByTag:function(h){return new d.nodeList(this.$.getElementsByTagName(h));},getTabIndex:c?function(){var h=this.$.tabIndex;if(h===0&&!f.$tabIndex[this.getName()]&&parseInt(this.getAttribute('tabindex'),10)!==0)h=-1;return h;}:b.webkit?function(){var h=this.$.tabIndex;if(h==undefined){h=parseInt(this.getAttribute('tabindex'),10);if(isNaN(h))h=-1;}return h;}:function(){return this.$.tabIndex;},getText:function(){return this.$.textContent||this.$.innerText;},getWindow:function(){return this.getDocument().getWindow();},getId:function(){return this.$.id||null;},getNameAtt:function(){return this.$.name||null;},getName:function(){var h=this.$.nodeName.toLowerCase();return(this.getName=function(){return h;})();},getValue:function(){return this.$.value;},getFirst:function(){var h=this.$.firstChild;return h?new d.node(h):null;},getLast:function(){var h=this.$.lastChild;return h?new d.node(h):null;},getNext:function(){var h=this.$.nextSibling;return h?new d.node(h):null;},is:function(){var h=this.getName();for(var i=0;i<arguments.length;i++)if(arguments[i]==h)return true;return false;},hasAttributes:c?function(){var h=this.$.attributes;for(var i=0;i<h.length;i++){var j=h[i];switch(j.nodeName){case 'class':if(this.$.className.length>0)return true;case '_cke_expando':continue;default:if(j.specified)return true;}}return false;}:function(){return this.$.attributes.length>0;},hide:function(){this.setStyle('display','none');
},moveChildren:function(h,i){var j=this.$;h=h.$;if(j==h)return;var k;if(i)while(k=j.lastChild)h.insertBefore(j.removeChild(k),h.firstChild);else while(k=j.firstChild)h.appendChild(j.removeChild(k));},show:function(){this.setStyles({display:'',visibility:''});},setAttribute:(function(){var h=function(i,j){this.$.setAttribute(i,j);return this;};if(c)return function(i,j){var k=this;if(i=='class')k.$.className=j;if(i=='style')k.$.style.cssText=j;else h.apply(k,arguments);return k;};else return h;})(),setAttributes:function(h){for(var i in h)this.setAttribute(i,h[i]);return this;},setValue:function(h){this.$.value=h;return this;},removeAttribute:(function(){var h=function(i){this.$.removeAttribute(i);};if(c)return function(i){if(i=='class')i='className';h.call(this,i);};else return h;})(),removeAttributes:function(h){for(var i=0;i<h.length;i++)this.removeAttribute(h[i]);},removeStyle:function(h){this.setStyle(h,'');if(!this.$.style.cssText)this.removeAttribute('style');},setStyle:function(h,i){this.$.style[e.cssStyleToDomStyle(h)]=i;return this;},setStyles:function(h){for(var i in h)this.setStyle(i,h[i]);return this;},setOpacity:function(h){if(c){h=Math.round(h*100);this.setStyle('filter',h>=100?'':'progid:DXImageTransform.Microsoft.Alpha(opacity='+h+')');}else this.setStyle('opacity',h);},unselectable:b.gecko?function(){this.$.style.MozUserSelect='none';}:b.webkit?function(){this.$.style.KhtmlUserSelect='none';}:function(){if(c||b.opera){var h=this.$,i,j=0;h.unselectable='on';while(i=h.all[j++])switch(i.tagName.toLowerCase()){case 'iframe':case 'textarea':case 'input':case 'select':break;default:i.unselectable='on';}}}});d.window=function(h){d.domObject.call(this,h);};d.window.prototype=new d.domObject();e.extend(d.window.prototype,{focus:function(){this.$.focus();},getViewPaneSize:function(){var h=this.$.document,i=h.compatMode=='CSS1Compat';return{width:(i?h.documentElement.clientWidth:h.body.clientWidth)||(0),height:(i?h.documentElement.clientHeight:h.body.clientHeight)||(0)};},getScrollPosition:function(){var h=this.$;if('pageXOffset' in h)return{x:h.pageXOffset||0,y:h.pageYOffset||0};else{var i=h.document;return{x:i.documentElement.scrollLeft||i.body.scrollLeft||0,y:i.documentElement.scrollTop||i.body.scrollTop||0};}}});d.document=function(h){d.domObject.call(this,h);};var h=d.document;h.prototype=new d.domObject();e.extend(h.prototype,{appendStyleSheet:function(i){if(this.$.createStyleSheet)this.$.createStyleSheet(i);else{var j=new g('link');j.setAttributes({rel:'stylesheet',type:'text/css',href:i});
this.getHead().append(j);}},createElement:function(i,j){var k=new g(i,this);if(j){if(j.attributes)k.setAttributes(j.attributes);if(j.styles)k.setStyles(j.styles);}return k;},createText:function(i){return new d.text('',this);},getById:function(i){var j=this.$.getElementById(i);return j?new g(j):null;},getHead:function(){var i=this.$.getElementsByTagName('head')[0];i=new g(i);return(this.getHead=function(){return i;})();},getBody:function(){var i=new g(this.$.body);return(this.getBody=function(){return i;})();},getWindow:function(){var i=new d.window(this.$.parentWindow||this.$.defaultView);return(this.getWindow=function(){return i;})();}});a.command=function(i,j){this.state=2;this.exec=function(){j.exec.call(this,i);};e.extend(this,j);a.event.call(this);};a.event.implementOn(a.command.prototype);a.config={customConfig:a.getUrl('config.js'),autoUpdateElement:true,baseHref:'',contentsCss:a.basePath+'contents.css',contentsLangDirection:'ltr',autoLanguage:true,defaultLanguage:'en',enterMode:'p',shiftEnterMode:'br',corePlugins:'',docType:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',fullPage:false,height:200,plugins:'basicstyles,button,elementspath,horizontalrule,htmldataprocessor,keystrokes,newpage,removeformat,smiley,sourcearea,specialchar,tab,toolbar,wysiwygarea',theme:'default',skin:'default',width:'100%',baseFloatZIndex:10000};var i=a.config;a.focusManager=function(j){if(j.focusManager)return j.focusManager;this.hasFocus=false;this._={editor:j};return this;};a.focusManager.prototype={focus:function(){var j=this;if(j._.timer)clearTimeout(j._.timer);if(!j.hasFocus){if(a.currentInstance)a.currentInstance.focusManager.forceBlur();j.hasFocus=true;j._.editor.fire('focus');}},blur:function(){var j=this;if(j._.timer)clearTimeout(j._.timer);j._.timer=setTimeout(function(){delete j._.timer;j.forceBlur();},100);},forceBlur:function(){if(this.hasFocus){this.hasFocus=false;this._.editor.fire('blur');}}};(function(){var j={};a.lang={languages:{en:1},load:function(k,l,m){if(l)k=this.detect(k);if(!this[k])a.scriptLoader.load(a.getUrl('lang/'+k+'.js'),function(){m(k,this[k]);},this);else m(k,this[k]);},detect:function(k){var l=this.languages,m=(navigator.userLanguage||navigator.language).toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),n=m[1],o=m[2];if(l[n+'-'+o])n=n+'-'+o;else if(!l[n])n=null;a.lang.detect=n?function(){return n;}:function(p){return p;};return n||k;}};})();a.scriptLoader=(function(){var j={},k={};
return{load:function(l,m,n,o){var p=typeof l=='string';if(p)l=[l];if(!n)n=a;var q=l.length,r=[],s=[],t=function(y){if(m)if(p)m.call(n,y);else m.call(n,r,s);};if(q===0){t(true);return;}var u=function(y,z){(z?r:s).push(y);if(--q<=0)t(z);},v=function(y,z){j[y]=1;var A=k[y];delete k[y];for(var B=0;B<A.length;B++)A[B](y,z);},w=function(y){if(o!==true&&j[y]){u(y,true);return;}var z=k[y]||(k[y]=[]);z.push(u);if(z.length>1)return;var A=new g('script');A.setAttributes({type:'text/javascript',src:y});if(m)if(c)A.$.onreadystatechange=function(){if(A.$.readyState=='loaded'||A.$.readyState=='complete'){A.$.onreadystatechange=null;v(y,true);}};else{A.$.onload=function(){v(y,true);};A.$.onerror=function(){v(y,false);};}A.appendTo(a.document.getHead());};for(var x=0;x<q;x++)w(l[x]);},loadCode:function(l){var m=new g('script');m.setAttribute('type','text/javascript');m.appendText(l);m.appendTo(a.document.getHead());}};})();a.resourceManager=function(j,k){var l=this;l.basePath=j;l.fileName=k;l.registered={};l.loaded={};l.externals={};l._={waitingList:{}};};a.resourceManager.prototype={add:function(j,k){if(this.registered[j])throw '[CKEDITOR.resourceManager.add] The resource name "'+j+'" is already registered.';this.registered[j]=k||{};},get:function(j){return this.registered[j]||null;},getPath:function(j){return this.externals[j]||this.basePath+j+'/';},addExternal:function(j,k){if(this.registered[j]||this.externals[j])throw '[CKEDITOR.resourceManager.import] The resource name "'+j+'" is already registered or imported.';this.externals[j]=k;},load:function(j,k,l){if(!e.isArray(j))j=j?[j]:[];var m=this.loaded,n=this.registered,o=[],p={},q={};for(var r=0;r<j.length;r++){var s=j[r];if(!s)continue;if(!m[s]&&!n[s]){var t=a.getUrl(this.getPath(s)+this.fileName+'.js');o.push(t);p[t]=s;}else q[s]=this.get(s);}a.scriptLoader.load(o,function(u,v){if(v.length)throw '[CKEDITOR.resourceManager.load] Resource name "'+p[v[0]]+'" was not found at "'+v[0]+'".';for(var w=0;w<u.length;w++){var x=p[u[w]];q[x]=this.get(x);m[x]=1;}k.call(l,q);},this);}};a.plugins=new a.resourceManager('plugins/','plugin');a.plugins.load=e.override(a.plugins.load,function(j){return function(k,l,m){var n={},o=function(p){j.call(this,p,function(q){e.extend(n,q);var r=[];for(var s in q){var t=q[s],u=t&&t.requires;if(u)for(var v=0;v<u.length;v++)if(!n[u[v]])r.push(u[v]);}if(r.length)o.call(this,r);else if(l)l.call(m||window,n);},this);};o.call(this,k);};});a.plugins.setLang=function(j,k,l){var m=this.get(j);m.lang[k]=l;
};(function(){var j={},k=function(l,m){var n=function(){j[l]=1;m();},o=new g('img');o.on('load',n);o.on('error',n);o.setAttribute('src',l);};a.imageCacher={load:function(l,m){var n=l.length,o=function(){if(--n===0)m();};for(var p=0;p<l.length;p++){var q=l[p];if(j[q])o();else k(q,o);}}};})();a.skins=(function(){var j={},k={},l=function(m,n,o){var p=j[m],q=function(y){for(var z=0;z<y.length;z++)y[z]=a.getUrl('skins/'+m+'/'+y[z]);};if(!k[m]){var r=p.preload;if(r&&r.length>0){q(r);a.imageCacher.load(r,function(){k[m]=1;l(m,n,o);});return;}k[m]=1;}n=p[n];var s=!n||!!n._isLoaded;if(s)o&&o();else{var t=n._pending||(n._pending=[]);t.push(o);if(t.length>1)return;var u=!n.css||!n.css.length,v=!n.js||!n.js.length,w=function(){if(u&&v){n._isLoaded=1;for(var y=0;y<t.length;y++)if(t[y])t[y]();}};if(!u){q(n.css);for(var x=0;x<n.css.length;x++)a.document.appendStyleSheet(n.css[x]);u=1;}if(!v){q(n.js);a.scriptLoader.load(n.js,function(){v=1;w();});}w();}};return{add:function(m,n){j[m]=n;n.skinPath=a.getUrl('skins/'+m+'/');},load:function(m,n,o){if(j[m])l(m,n,o);else a.scriptLoader.load(a.getUrl('skins/'+m+'/skin.js'),function(){l(m,n,o);});}};})();a.themes=new a.resourceManager('themes/','theme');a.ui=function(j){if(j.ui)return j.ui;this._={handlers:{},items:{}};return this;};var j=a.ui;j.prototype={add:function(k,l,m){var n=this._.handlers[l].create(m);n.name=k;this._.items[k]=n;},get:function(k){return this._.items[k]||null;},addHandler:function(k,l){this._.handlers[k]=l;}};(function(){var k=0,l=function(){var u='editor'+ ++k;return a.instances&&a.instances[u]?l():u;},m={},n=function(u){var v=u.config.customConfig;if(!v)return false;var w=m[v]||(m[v]={});if(w.fn){w.fn.call(u,u.config);if(u.config.customConfig==v||!n(u))u.fireOnce('customConfigLoaded');}else a.scriptLoader.load(v,function(){if(a.editorConfig)w.fn=a.editorConfig;else w.fn=function(){};n(u);});return true;},o=function(u,v){u.on('customConfigLoaded',function(){if(v)e.extend(u.config,v,true);u.fireOnce('configLoaded');p(u);});if(v&&v.customConfig!=undefined)u.config.customConfig=v.customConfig;if(!n(u))u.fireOnce('customConfigLoaded');},p=function(u){a.lang.load(u.config.defaultLanguage,u.config.autoLanguage,function(v,w){u.langCode=v;u.lang=e.prototypedCopy(w);q(u);});},q=function(u){a.plugins.load(u.config.plugins.split(','),function(v){var w=[],x=[],y=[];u.plugins=v;for(var z in v){var A=v[z],B=A.lang,C=a.plugins.getPath(z),D=null;A.path=C;if(B){D=e.indexOf(B,u.langCode)>=0?u.langCode:B[0];if(!A.lang[D])y.push(a.getUrl(C+'lang/'+D+'.js'));
else{e.extend(u.lang,A.lang[D]);D=null;}}x.push(D);w.push(A);}a.scriptLoader.load(y,function(){var E=['beforeInit','init'];for(var F=0;F<E.length;F++)for(var G=0;G<w.length;G++){var H=w[G];if(F===0&&x[G]&&H.lang)e.extend(u.lang,H.lang[x[G]]);if(H[E[F]])H[E[F]](u);}u.fire('pluginsLoaded');r(u);});});},r=function(u){a.skins.load(u.config.skin,'editor',function(){s(u);});},s=function(u){var v=u.config.theme;a.themes.load(v,function(){var w=u.theme=a.themes.get(v);w.path=a.themes.getPath(v);w.build(u);if(u.config.autoUpdateElement)t(u);});},t=function(u){var v=u.element;if(u.elementMode==1&&v.is('textarea')){var w=new g(v.$.form);if(w){w.on('submit',function(){u.updateElement();});if(w.submit&&w.submit.call)e.override(w.submit,function(x){return function(){u.updateElement();x.apply(this,arguments);};});}}};a.editor.prototype._init=function(){var w=this;var u=g.get(w._.element),v=w._.instanceConfig;delete w._.element;delete w._.instanceConfig;w._.commands={};w.element=u;w.name=u&&w.elementMode==1&&(u.getId()||u.getNameAtt())||l();w.config=e.prototypedCopy(i);w.ui=new j(w);w.focusManager=new a.focusManager(w);a.fire('instanceCreated',null,w);o(w,v);};})();e.extend(a.editor.prototype,{addCommand:function(k,l){this._.commands[k]=new a.command(this,l);},destroy:function(k){var l=this;if(!k)l.updateElement();l.theme.destroy(l);a.remove(l);},execCommand:function(k,l){var m=this.getCommand(k);if(m&&m.state!=0)return m.exec(this,l);return false;},getCommand:function(k){return this._.commands[k];},getData:function(){var m=this;m.fire('beforeGetData');var k=m._.data;if(typeof k!='string'){var l=m.element;if(l&&m.elementMode==1)k=l.is('textarea')?l.getValue():l.getHtml();else k='';}k={dataValue:k};m.fire('getData',k);return k.dataValue;},getSnapshot:function(){var k=this.fire('getSnapshot');if(typeof k!='string'){var l=this.element;if(l&&this.elementMode==1)k=l.is('textarea')?l.getValue():l.getHtml();}return k;},setData:function(k){var l={dataValue:k};this.fire('setData',l);this._.data=l.dataValue;this.fire('afterSetData',l);},insertHtml:function(k){this.fire('insertHtml',k);},insertElement:function(k){this.fire('insertElement',k);},checkDirty:function(){return this.mayBeDirty&&this._.previousValue!==this.getSnapshot();},resetDirty:function(){if(this.mayBeDirty)this._.previousValue=this.getSnapshot();},updateElement:function(){var l=this;var k=l.element;if(k&&l.elementMode==1)if(k.is('textarea'))k.setValue(l.getData());else k.setHtml(l.getData());}});a.on('loaded',function(){var k=a.editor._pending;
if(k){delete a.editor._pending;for(var l=0;l<k.length;l++)k[l]._init();}});a.htmlParser=function(){this._={htmlPartsRegex:new RegExp("<(?:(?:\\/([^>]+)>)|(?:!--([\\S|\\s]*?)-->)|(?:([^\\s>]+)\\s*((?:(?:[^\"'>]+)|(?:\"[^\"]*\")|(?:'[^']*'))*)\\/?>))",'g')};};(function(){var k=/([\w:]+)\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+))?/g,l={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};a.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onComment:function(){},parse:function(m){var x=this;var n,o,p=0;while(n=x._.htmlPartsRegex.exec(m)){var q=n.index;if(q>p)x.onText(m.substring(p,q));p=x._.htmlPartsRegex.lastIndex;if(o=n[1]){x.onTagClose(o.toLowerCase());continue;}if(o=n[3]){var r={},s,t=n[4],u=!!(t&&t.charAt(t.length-1)=='/');if(t)while(s=k.exec(t)){var v=s[1].toLowerCase(),w=s[2]||s[3]||s[4]||'';if(!w&&l[v])r[v]=v;else r[v]=w;}x.onTagOpen(o.toLowerCase(),r,u);continue;}if(o=n[2])x.onComment(o);}if(m.length>p)x.onText(m.substring(p,m.length));}};})();a.htmlParser.comment=function(k){this.value=k;this._={isBlockLike:false};};a.htmlParser.comment.prototype={type:8,writeHtml:function(k){k.comment(this.value);}};(function(){var k=/[\t\r\n ]{2,}|[\t\r\n]/g;a.htmlParser.text=function(l){this.value=l.replace(k,' ');this._={isBlockLike:false};};a.htmlParser.text.prototype={type:3,writeHtml:function(l){l.text(this.value);}};})();a.htmlParser.fragment=function(){this.children=[];this.parent=null;this._={isBlockLike:true,hasInlineStarted:false};};(function(){var k={colgroup:1,dd:1,dt:1,li:1,option:1,p:1,td:1,tfoot:1,th:1,thead:1,tr:1};a.htmlParser.fragment.fromHtml=function(l){var m=new a.htmlParser(),n=[],o=new a.htmlParser.fragment(),p=[],q=o,r=function(s){if(p.length>0)for(var t=0;t<p.length;t++){var u=p[t],v=u.name,w=f[v],x=q.name&&f[q.name];if((!x||x[v])&&(!s||!w||w[s]||!f[s])){u=u.clone();q.add(u);q=u;p.splice(t,1);t--;}}};m.onTagOpen=function(s,t,u){var v=new a.htmlParser.element(s,t);if(v.isUnknown&&u)v.isEmpty=true;if(f.$removeEmpty[s]){p.push(v);return;}var w=q.name,x=w&&f[w]||(q._.isBlockLike?f.div:f.span);if(!v.isUnknown&&!q.isUnknown&&!x[s]){if(!w)return;var y=false;if(s!=w){if(!k[w])p.unshift(q);y=true;}q=q.parent;if(y){m.onTagOpen.apply(this,arguments);return;}}r(s);q.add(v);if(!v.isEmpty)q=v;};m.onTagClose=function(s){var t=q,u=0;while(t&&t.name!=s){if(!t._.isBlockLike){p.unshift(t);u++;}t=t.parent;}if(t)q=t.parent;else if(p.length>u)for(;
u<p.length;u++)if(s==p[u].name){p.splice(u,1);u--;}};m.onText=function(s){if(!q._.hasInlineStarted){s=e.ltrim(s);if(s.length===0)return;}r();q.add(new a.htmlParser.text(s));};m.onComment=function(s){q.add(new a.htmlParser.comment(s));};m.parse(l);return o;};a.htmlParser.fragment.prototype={add:function(l){var o=this;var m=o.children.length,n=m>0&&o.children[m-1]||null;if(n){if(l._.isBlockLike&&n.type==3){n.value=e.rtrim(n.value);if(n.value.length===0){o.children.pop();o.add(l);return;}}n.next=l;}l.previous=n;l.parent=o;o.children.push(l);o._.hasInlineStarted=l.type==3||l.type==1&&!l._.isBlockLike;},writeHtml:function(l){for(var m=0,n=this.children.length;m<n;m++)this.children[m].writeHtml(l);}};})();a.htmlParser.element=function(k,l){var p=this;p.name=k;p.attributes=l;p.children=[];var m=f,n=!!(m.$block[k]||m.$listItem[k]||m.$tableContent[k]),o=!!m.$empty[k];p.isEmpty=o;p.isUnknown=!m[k];p._={isBlockLike:n,hasInlineStarted:o||!n};};(function(){var k=function(l,m){l=l[0];m=m[0];return l<m?-1:l>m?1:0;};a.htmlParser.element.prototype={type:1,add:a.htmlParser.fragment.prototype.add,clone:function(){return new a.htmlParser.element(this.name,this.attributes);},writeHtml:function(l){var r=this;l.openTag(r.name,r.attributes);var m=[];for(var n in r.attributes)m.push([n,r.attributes[n]]);m.sort(k);for(var o=0,p=m.length;o<p;o++){var q=m[o];if(c&&q==='_cke_expando')continue;l.attribute(q[0],q[1]);}l.openTagClose(r.name,r.isEmpty);if(!r.isEmpty){a.htmlParser.fragment.prototype.writeHtml.apply(r,arguments);l.closeTag(r.name);}}};})();delete a.loadFullCore;a.instances={};a.document=new h(document);a.add=function(k){a.instances[k.name]=k;k.on('focus',function(){if(a.currentInstance!=k){a.currentInstance=k;a.fire('currentInstance');}});k.on('blur',function(){if(a.currentInstance==k){a.currentInstance=null;a.fire('currentInstance');}});};a.remove=function(k){delete a.instances[k.name];};a.TRISTATE_ON=1;a.TRISTATE_OFF=2;a.TRISTATE_DISABLED=0;(function(){var k={address:1,blockquote:1,dl:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,li:1,dt:1,de:1},l={body:1,div:1,td:1,th:1,caption:1,form:1},m=function(n){var o=n.getChildren();for(var p=0,q=o.count();p<q;p++){var r=o.getItem(p);if(r.type==1&&f.$block[r.getName()])return true;}return false;};d.elementPath=function(n){var t=this;var o=null,p=null,q=[],r=n;while(r){if(r.type==1){if(!t.lastElement)t.lastElement=r;var s=r.getName();if(c&&r.$.scopeName!='HTML')s=r.$.scopeName.toLowerCase()+':'+s;if(!p){if(!o&&k[s])o=r;if(l[s])if(!o&&s=='div'&&!m(r))o=r;
else p=r;}q.push(r);if(s=='body')break;}r=r.getParent();}t.block=o;t.blockLimit=p;t.elements=q;};})();d.elementPath.prototype={compare:function(k){var l=this.elements,m=k&&k.elements;if(!m||l.length!=m.length)return false;for(var n=0;n<l.length;n++)if(!l[n].equals(m[n]))return false;return true;}};d.text=function(k,l){if(typeof k=='string')k=(l?l.$:document).createTextNode(k);this.$=k;};d.text.prototype=new d.node();e.extend(d.text.prototype,{type:3,getLength:function(){return this.$.nodeValue.length;},getText:function(){return this.$.nodeValue;},split:function(k){return new d.text(this.$.splitText(k));},substring:function(k,l){if(typeof l!='number')return this.$.nodeValue.substr(k);else return this.$.nodeValue.substring(k,l);}});d.documentFragment=function(k){this.$=c?k.$.createElement('div'):k.$.createDocumentFragment();};(function(){var k=g.prototype;d.documentFragment.prototype={type:11,append:k.append,appendTo:function(l){if(c)k.moveChildren.call(this,l);else l.$.appendChild(this.$);},insertAfterNode:function(l){var m=this.$,n=l.$,o=n.parentNode;if(c)for(var p;p=m.lastChild;)o.insertBefore(m.removeChild(p),n.nextSibling);else o.insertBefore(m,n.nextSibling);}};})();(function(){var k=function(l,m,n){var o={from:m,to:n,type:l};this.fire(l,o);this._.actionEvents.push(o);};d.domWalker=function(l){if(arguments.length<1)return;this._={currentNode:l,actionEvents:[],stopFlag:false};a.event.implementOn(this);};d.domWalker.prototype={next:(function(){var l=function(){var p=this;var m=p._.currentNode,n;if(!m)return null;if(m.getChildCount()>0){n=m.getChild(0);k.call(p,'down',m,n);return n;}else if(m.getNext()){n=m.getNext();k.call(p,'sibling',m,n);return n;}else{var o=m.getParent();k.call(p,'up',m,o);while(o)if(o.getNext()){n=o.getNext();k.call(p,'sibling',o,n);return n;}else{n=o.getParent();k.call(p,'up',o,n);o=n;}}return null;};return function(){var m=this;m._.actionEvents=[];return{node:m._.currentNode=l.apply(m),events:m._.actionEvents};};})(),back:(function(){var l=function(){var p=this;var m=p._.currentNode,n;if(!m)return null;if(m.getPrevious()){var o=m.getPrevious();k.call(p,'sibling',m,o);while(o.getChildCount()>0){n=o.getChild(o.getChildCount()-1);k.call(p,'down',o,n);o=n;}return o;}else{n=m.getParent();k.call(p,'up',m,n);return n;}return null;};return function(){var m=this;m._.actionEvents=[];return{node:m._.currentNode=l.apply(m),events:m._.actionEvents};};})(),forward:function(l){var m;this._.stopFlag=false;l=l||(function(n){});this.on('sibling',l);this.on('up',l);
this.on('down',l);while((!m||m.node)&&(!this._.stopFlag)){m=this.next();this.fire('step',m);}this.removeListener('sibling',l);this.removeListener('up',l);this.removeListener('down',l);return m;},reverse:function(l){var m;this._.stopFlag=false;l=l||(function(n){});this.on('sibling',l);this.on('up',l);this.on('down',l);while((!m||m.node)&&(!this._.stopFlag)){m=this.back();this.fire('step',m);}this.removeListener('sibling',l);this.removeListener('up',l);this.removeListener('down',l);return m;},stop:function(){this._.stopFlag=true;return this;},stopped:function(){return this._.stopFlag;},setNode:function(l){this._.currentNode=l;return this;}};d.domWalker.blockBoundary=function(l){return function(m){var n={block:1,'list-item':1,table:1,'table-row-group':1,'table-header-group':1,'table-footer-group':1,'table-row':1,'table-column-group':1,'table-column':1,'table-cell':1,'table-caption':1},o=e.extend({hr:1},l||{}),p=m.data.to,q=m.data.from;if(p&&p.type==1)if(n[p.getComputedStyle('display')]||o[p.getName()]){m.stop();this.stop();return;}if((m.data.type=='up'||m.data.type=='sibling')&&(q&&q.type==1))if(n[q.getComputedStyle('display')]||o[q.getName()]){m.stop();this.stop();}};};d.domWalker.listItemBoundary=function(){return d.domWalker.blockBoundary({br:1});};})();d.range=function(k){var l=this;l.startContainer=null;l.startOffset=null;l.endContainer=null;l.endOffset=null;l.collapsed=true;l.document=k;};(function(){var k=function(p){p.collapsed=p.startContainer&&p.endContainer&&p.startContainer.equals(p.endContainer)&&p.startOffset==p.endOffset;},l=function(p,q,r){var s=p.startContainer,t=p.endContainer,u=p.startOffset,v=p.endOffset,w,x;if(t.type==3)t=t.split(v);else if(t.getChildCount()>0)if(v>=t.getChildCount()){t=t.append(p.document.createText(''));x=true;}else t=t.getChild(v);if(s.type==3){s.split(u);if(s.equals(t))t=s.getNext();}else if(!u){s=s.getFirst().insertBeforeMe(p.document.createText(''));w=true;}else if(u>=s.getChildCount()){s=s.append(p.document.createText(''));w=true;}else s=s.getChild(u).getPrevious();var y=s.getParents(),z=t.getParents(),A,B,C;for(A=0;A<y.length;A++){B=y[A];C=z[A];if(!B.equals(C))break;}var D=r,E,F,G,H;for(var I=A;I<y.length;I++){E=y[I];if(D&&!E.equals(s))F=D.append(E.clone());G=E.getNext();while(G){if(G.equals(z[I])||G.equals(t))break;H=G.getNext();if(q==2)D.append(G.clone(true));else{G.remove();if(q==1)D.append(G);}G=H;}if(D)D=F;}D=r;for(var J=A;J<z.length;J++){E=z[J];if(q>0&&!E.equals(t))F=D.append(E.clone());if(!y[J]||E.$.parentNode!=y[J].$.parentNode){G=E.getPrevious();
while(G){if(G.equals(y[J])||G.equals(s))break;H=G.getPrevious();if(q==2)D.$.insertBefore(G.$.cloneNode(true),D.$.firstChild);else{G.remove();if(q==1)D.$.insertBefore(G.$,D.$.firstChild);}G=H;}}if(D)D=F;}if(q==2){var K=p.startContainer;if(K.type==3){K.$.data+=K.$.nextSibling.data;K.$.parentNode.removeChild(K.$.nextSibling);}var L=p.endContainer;if(L.type==3&&L.$.nextSibling){L.$.data+=L.$.nextSibling.data;L.$.parentNode.removeChild(L.$.nextSibling);}}else{if(B&&C&&(s.$.parentNode!=B.$.parentNode||t.$.parentNode!=C.$.parentNode)){var M=C.getIndex();if(w&&C.$.parentNode==s.$.parentNode)M--;p.setStart(C.getParent(),M);}p.collapse(true);}if(w)s.remove();if(x&&t.$.parentNode)t.remove();},m={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,'var':1},n=function(){var u=this;var p=u.startContainer,q=u.endContainer,r=u.startOffset,s=u.endOffset,t;if(p.type==1){t=p.getChildCount();if(t>r)p=p.getChild(r);else if(t<1)p=p.getPreviousSourceNode();else{p=p.$;while(p.lastChild)p=p.lastChild;p=new d.node(p);p=p.getNextSourceNode()||p;}}if(q.type==1){t=q.getChildCount();if(t>s)q=q.getChild(s).getPreviousSourceNode();else if(t<1)q=q.getPreviousSourceNode();else{q=q.$;while(q.lastChild)q=q.lastChild;q=new d.node(q);}}return{startNode:p,endNode:q};},o=function(p){return function(q){var u=this;if(u.stopped()||!q.data.node)return;var r=q.data.node,s=false;if(r.type==1)if(!m[r.getName()])if(!p&&r.getName()=='br'&&!s)s=true;else{u.checkFailed=true;u.stop();}else if(r.type==3){var t=e.trim(r.getText());if(t.length>0){u.checkFailed=true;u.stop();}}};};d.range.prototype={clone:function(){var q=this;var p=new d.range(q.document);p.startContainer=q.startContainer;p.startOffset=q.startOffset;p.endContainer=q.endContainer;p.endOffset=q.endOffset;p.collapsed=q.collapsed;return p;},collapse:function(p){var q=this;if(p){q.endContainer=q.startContainer;q.endOffset=q.startOffset;}else{q.startContainer=q.endContainer;q.startOffset=q.endOffset;}q.collapsed=true;},cloneContents:function(){var p=new d.documentFragment(this.document);if(!this.collapsed)l(this,2,p);return p;},deleteContents:function(){if(this.collapsed)return;l(this,0);},extractContents:function(){var p=new d.documentFragment(this.document);if(!this.collapsed)l(this,1,p);return p;},createBookmark:function(){var s=this;var p,q,r;p=s.document.createElement('span');p.setAttribute('_fck_bookmark',1);p.setStyle('display','none');p.setHtml('&nbsp;');
if(!s.collapsed){q=p.clone();q.setHtml('&nbsp;');r=s.clone();r.collapse();r.insertNode(q);}r=s.clone();r.collapse(true);r.insertNode(p);if(q){s.setStartAfter(p);s.setEndBefore(q);}else s.moveToPosition(p,4);return{startNode:p,endNode:q};},moveToBookmark:function(p){this.setStartBefore(p.startNode);p.startNode.remove();var q=p.endNode;if(q){this.setEndBefore(q);q.remove();}else this.collapse(true);},getCommonAncestor:function(p){var s=this;var q=s.startContainer,r=s.endContainer;if(q.equals(r)){if(p&&q.type==1&&s.startOffset==s.endOffset-1)return q.getChild(s.startOffset);return q;}if(r.type==1&&r.contains(q))return r;if(q.type!=1)q=q.getParent();do if(q.contains(r))return q;while(q=q.getParent())return null;},optimize:function(){var r=this;var p=r.startContainer,q=r.startOffset;if(p.type!=1)if(!q)r.setStartBefore(p);else if(q>=p.getLength())r.setStartAfter(p);p=r.endContainer;q=r.endOffset;if(p.type!=1)if(!q)r.setEndBefore(p);else if(q>=p.getLength())r.setEndAfter(p);},trim:function(p,q){var w=this;var r=w.startContainer,s=w.startOffset,t=w.endContainer,u=w.endOffset;if(!p&&r&&r.type==3){if(!s){s=r.getIndex();r=r.getParent();}else if(s>=r.getLength()){s=r.getIndex()+1;r=r.getParent();}else{var v=r.split(s);s=r.getIndex()+1;r=r.getParent();if(w.collapsed)w.setEnd(r,s);else if(w.startContainer.equals(w.endContainer))w.setEnd(v,w.endOffset-w.startOffset);}w.setStart(r,s);}if(!q&&t&&!w.collapsed&&t.type==3){if(!u){u=t.getIndex();t=t.getParent();}else if(u>=t.getLength()){u=t.getIndex()+1;t=t.getParent();}else{t.split(u);u=t.getIndex()+1;t=t.getParent();}w.setEnd(t,u);}},enlarge:function(p){var N=this;switch(p){case 1:if(N.collapsed)return;var q=N.getCommonAncestor(),r=N.document.getBody(),s,t,u,v,w,x=false,y,z,A=N.startContainer,B=N.startOffset;if(A.type==3){if(B){A=!e.trim(A.substring(0,B)).length&&A;x=!!A;}if(A)if(!(v=A.getPrevious()))u=A.getParent();}else{if(B)v=A.getChild(B-1)||A.getLast();if(!v)u=A;}while(u||v){if(u&&!v){if(!w&&u.equals(q))w=true;if(!r.contains(u))break;if(!x||u.getComputedStyle('display')!='inline'){x=false;if(w)s=u;else N.setStartBefore(u);}v=u.getPrevious();}while(v){y=false;if(v.type==3){z=v.getText();if(/[^\s\ufeff]/.test(z))v=null;y=/[\s\ufeff]$/.test(z);}else if(v.$.offsetWidth>0)if(x&&f.$removeEmpty[v.getName()]){z=v.getText();if(!/[^\s\ufeff]/.test(z))v=null;else{var C=v.$.all||v.$.getElementsByTagName('*');for(var D=0,E;E=C[D++];)if(!f.$removeEmpty[E.nodeName.toLowerCase()]){v=null;break;}}if(v)y=!!z.length;}else v=null;if(y)if(x)if(w)s=u;
else if(u)N.setStartBefore(u);else x=true;if(v){var F=v.getPrevious();if(!u&&!F){u=v;v=null;break;}v=F;}else u=null;}if(u)u=u.getParent();}A=N.endContainer;B=N.endOffset;u=v=null;w=x=false;if(A.type==3){A=!e.trim(A.substring(B)).length&&A;x=!(A&&A.getLength());if(A)if(!(v=A.getNext()))u=A.getParent();}else{v=A.getChild(B);if(!v)u=A;}while(u||v){if(u&&!v){if(!w&&u.equals(q))w=true;if(!r.contains(u))break;if(!x||u.getComputedStyle('display')!='inline'){x=false;if(w)t=u;else if(u)N.setEndAfter(u);}v=u.getNext();}while(v){y=false;if(v.type==3){z=v.getText();if(/[^\s\ufeff]/.test(z))v=null;y=/^[\s\ufeff]/.test(z);}else if(v.$.offsetWidth>0)if(x&&f.$removeEmpty[v.getName()]){z=v.getText();if(!/[^\s\ufeff]/.test(z))v=null;else{C=v.$.all||v.$.getElementsByTagName('*');for(D=0;E=C[D++];)if(!f.$removeEmpty[E.nodeName.toLowerCase()]){v=null;break;}}if(v)y=!!z.length;}else v=null;if(y)if(x)if(w)t=u;else N.setEndAfter(u);if(v){F=v.getNext();if(!u&&!F){u=v;v=null;break;}v=F;}else u=null;}if(u)u=u.getParent();}if(s&&t){q=s.contains(t)?t:s;N.setStartBefore(q);N.setEndAfter(q);}break;case 2:case 3:var G=n.apply(N),H=G.startNode,I=G.endNode,J=p==2?d.domWalker.blockBoundary():d.domWalker.listItemBoundary(),K=new d.domWalker(H),L=K.reverse(J),M=L.events.shift();N.setStartBefore(M.from);K.setNode(I);L=K.forward(J);M=L.events.shift();N.setEndAfter(M.from);break;default:}},insertNode:function(p){var t=this;t.trim(false,true);var q=t.startContainer,r=t.startOffset,s=q.getChild(r);if(s)p.insertBefore(s);else q.append(p);if(p.getParent().equals(t.endContainer))t.endOffset++;t.setStartBefore(p);},moveToPosition:function(p,q){this.setStartAt(p,q);this.collapse(true);},selectNodeContents:function(p){this.setStart(p,0);this.setEnd(p,p.type==3?p.getLength():p.getChildCount());},setStart:function(p,q){var r=this;r.startContainer=p;r.startOffset=q;if(!r.endContainer){r.endContainer=p;r.endOffset=q;}k(r);},setEnd:function(p,q){var r=this;r.endContainer=p;r.endOffset=q;if(!r.startContainer){r.startContainer=p;r.startOffset=q;}k(r);},setStartAfter:function(p){this.setStart(p.getParent(),p.getIndex()+1);},setStartBefore:function(p){this.setStart(p.getParent(),p.getIndex());},setEndAfter:function(p){this.setEnd(p.getParent(),p.getIndex()+1);},setEndBefore:function(p){this.setEnd(p.getParent(),p.getIndex());},setStartAt:function(p,q){var r=this;switch(q){case 1:r.setStart(p,0);break;case 2:if(p.type==3)r.setStart(p,p.getLength());else r.setStart(p,p.getChildCount());break;case 3:r.setStartBefore(p);
break;case 4:r.setStartAfter(p);}k(r);},setEndAt:function(p,q){var r=this;switch(q){case 1:r.setEnd(p,0);break;case 2:if(p.type==3)r.setEnd(p,p.getLength());else r.setEnd(p,p.getChildCount());break;case 3:r.setEndBefore(p);break;case 4:r.setEndAfter(p);}k(r);},fixBlock:function(p,q){var t=this;var r=t.createBookmark(),s=new g(q,t.document);t.collapse(p);t.enlarge(2);t.extractContents().appendTo(s);t.insertNode(s);t.moveToBookmark(r);return s;},splitBlock:function(p){var A=this;var q=new d.elementPath(A.startContainer),r=new d.elementPath(A.endContainer),s=q.blockLimit,t=r.blockLimit,u=q.block,v=r.block,w=null;if(!s.equals(t))return null;if(p!='br'){if(!u){u=A.fixBlock(true,p);v=new d.elementPath(A.endContainer);}if(!v)v=A.fixBlock(false,p);}var x=u&&A.checkStartOfBlock(),y=v&&A.checkEndOfBlock();A.deleteContents();if(u&&u.equals(v))if(y){w=new d.elementPath(A.startContainer);A.moveToPosition(v,4);v=null;}else if(x){w=new d.elementPath(A.startContainer);A.moveToPosition(u,3);u=null;}else{A.setEndAt(u,2);var z=A.extractContents();v=u.clone(false);v.removeAttribute('id');z.appendTo(v);v.insertAfter(u);A.moveToPosition(u,4);}return{previousBlock:u,nextBlock:v,wasStartOfBlock:x,wasEndOfBlock:y,elementPath:w};},checkStartOfBlock:function(){var p=this.startContainer,q=this.startOffset;if(p.type==3){var r=e.ltrim(p.getText().substr(0,q));if(r.length>0)return false;}var s=n.apply(this).startNode,t=new d.domWalker(s);t.on('step',o(true),null,null,20);t.reverse(d.domWalker.blockBoundary());return!t.checkFailed;},checkEndOfBlock:function(){var p=this.endContainer,q=this.endOffset;if(p.type==3){var r=e.rtrim(p.getText().substr(q));if(r.length>0)return false;}var s=n.apply(this).endNode,t=new d.domWalker(s);t.on('step',o(false),null,null,20);t.forward(d.domWalker.blockBoundary());return!t.checkFailed;}};})();a.POSITION_AFTER_START=1;a.POSITION_BEFORE_END=2;a.POSITION_BEFORE_START=3;a.POSITION_AFTER_END=4;a.ENLARGE_ELEMENT=1;a.ENLARGE_BLOCK_CONTENTS=2;a.ENLARGE_LIST_ITEM_CONTENTS=3;a.plugins.load(i.corePlugins.split(','),function(){a.status='loaded';a.fire('loaded');var k=a._.pending;if(k){delete a._.pending;for(var l=0;l<k.length;l++)a.add(k[l]);}});a.plugins.add('basicstyles',{requires:['styles','button'],init:function(k,l){var m=function(p,q,r,s){var t=new a.style(s);k.attachStyleStateChange(t,function(u){var v=k.getCommand(r);v.state=u;v.fire('state');});k.addCommand(r,new a.styleCommand(t));k.ui.addButton(p,{label:q,command:r});},n=k.config,o=k.lang;m('Bold',o.bold,'bold',n.coreStyles_bold);
m('Italic',o.italic,'italic',n.coreStyles_italic);m('Underline',o.underline,'underline',n.coreStyles_underline);m('Strike',o.strike,'strike',n.coreStyles_strike);m('Subscript',o.subscript,'subscript',n.coreStyles_subscript);m('Superscript',o.superscript,'superscript',n.coreStyles_superscript);}});i.coreStyles_bold={element:'strong',overrides:'b'};i.coreStyles_italic={element:'em',overrides:'i'};i.coreStyles_underline={element:'u'};i.coreStyles_strike={element:'strike'};i.coreStyles_subscript={element:'sub'};i.coreStyles_superscript={element:'sup'};a.plugins.add('button',{beforeInit:function(k){k.ui.addHandler(1,j.button.handler);}});a.UI_BUTTON=1;j.button=function(k){this.label=k.label;this.title=k.title||k.label;this.command=k.command;this.className=k.className||k.command&&'cke_button_'+k.command||'';this.click=k.click||(function(l){l.execCommand(k.command);});this._={};};j.button.handler={create:function(k){return new j.button(k);}};j.button.prototype={render:function(k,l){var m=b,n=this._.id='cke_'+e.getNextNumber(),o={id:n,button:this,editor:k,focus:function(){var r=a.document.getById(n);r.focus();},execute:function(){this.button.click(k);}},p=this.command;if(p){p=k.getCommand(p);if(p)p.on('state',function(){this.setState(p.state);},this);}var q=j.button._.instances.push(o)-1;l.push('<a id="',n,'" class="cke_button ',this.className,'" href="javascript:void(\'',(this.label||'').replace("'",''),'\')" title="',this.title,'" tabindex="-1" hidefocus="true"');if(m.opera||m.gecko&&m.mac)l.push(' onkeypress="return false;"');if(m.gecko)l.push(' onblur="this.style.cssText = this.style.cssText;"');l.push(' onkeydown="return CKEDITOR.ui.button._.keydown(',q,', event);" onclick="return CKEDITOR.ui.button._.click(',q,', event);"><span class="cke_icon"></span><span class="cke_label">',this.label,'</span></a>');return o;},setState:function(k){var l=a.document.getById(this._.id);switch(k){case 1:l.addClass('cke_on');l.removeClass('cke_off');l.removeClass('cke_disabled');break;case 0:l.addClass('cke_disabled');l.removeClass('cke_off');l.removeClass('cke_on');break;default:l.addClass('cke_off');l.removeClass('cke_on');l.removeClass('cke_disabled');break;}}};j.button._={instances:[],click:function(k){j.button._.instances[k].execute();return false;},keydown:function(k,l){var m=j.button._.instances[k];if(m.onkey){l=new d.event(l);return m.onkey(m,l.getKeystroke())!==false;}}};j.prototype.addButton=function(k,l){this.add(k,1,l);};(function(){var k=function(m,n){return m._.modes&&m._.modes[n||m.mode];
},l;a.plugins.add('editingblock',{init:function(m,n){if(!m.config.editingBlock)return;m.on('themeSpace',function(o){if(o.data.space=='contents')o.data.html+='<br>';});m.on('themeLoaded',function(){m.fireOnce('editingBlockReady');});m.on('uiReady',function(){m.setMode(m.config.startupMode);if(m.config.startupFocus)m.focus();});m.on('afterSetData',function(){if(!l&&m.mode){l=true;k(m).loadData(m.getData());l=false;}});m.on('beforeGetData',function(){if(!l&&m.mode){l=true;m.setData(k(m).getData());l=false;}});m.on('getSnapshot',function(o){if(m.mode)o.data=k(m).getSnapshotData();});}});a.editor.prototype.mode='';a.editor.prototype.addMode=function(m,n){n.name=m;(this._.modes||(this._.modes={}))[m]=n;};a.editor.prototype.setMode=function(m){var n,o=this.getThemeSpace('contents'),p=this.checkDirty();if(this.mode){if(m==this.mode)return;var q=k(this);n=q.getData();q.unload(o);this.mode='';}o.setHtml('');var r=k(this,m);if(!r)throw '[CKEDITOR.editor.setMode] Unknown mode "'+m+'".';if(!p)this.on('mode',function(){this.resetDirty();this.removeListener('mode',arguments.callee);});r.load(o,n||this.getData());};a.editor.prototype.focus=function(){var m=k(this);if(m)m.focus();};})();i.startupMode='wysiwyg';i.startupFocus=false;i.editingBlock=true;(function(){var k={toolbarFocus:{exec:function(l){var m=l._.elementsPath.idBase,n=a.document.getById(m+'0');if(n)n.focus();}}};a.plugins.add('elementspath',{requires:['selection'],init:function(l,m){var n='cke_path_'+l.name,o,p=function(){if(!o)o=a.document.getById(n);return o;},q='cke_elementspath_'+e.getNextNumber()+'_';l._.elementsPath={idBase:q};l.on('themeSpace',function(r){if(r.data.space=='bottom')r.data.html+='<div id="'+n+'" class="cke_path"><br></div>';});l.on('selectionChange',function(r){var s=b,t=r.data.selection,u=t.getStartElement(),v=[],w=this._.elementsPath.list=[];while(u){var x=w.push(u)-1,y;if(u.getAttribute('_cke_real_element_type'))y=u.getAttribute('_cke_real_element_type');else y=u.getName();var z='';if(s.opera||s.gecko&&s.mac)z+=' onkeypress="return false;"';if(s.gecko)z+=' onblur="this.style.cssText = this.style.cssText;"';v.unshift('<a id="',q,x,'" href="javascript:void(\'',y,'\')" tabindex="-1" title="',l.lang.elementsPath.eleTitle.replace(/%1/,y),'" onkeydown="return CKEDITOR._.elementsPath.keydown(\'',this.name,"',",x,', event);"'+z," onclick=\"return CKEDITOR._.elementsPath.click('",this.name,"',",x,');">',y,'</a>');if(y=='body')break;u=u.getParent();}p().setHtml(v.join(''));});l.on('contentDomUnload',function(){p().setHtml('<br>');
});l.addCommand('elementsPathFocus',k.toolbarFocus);}});})();a._.elementsPath={click:function(k,l){var m=a.instances[k];m.focus();var n=m._.elementsPath.list[l];m.getSelection().selectElement(n);return false;},keydown:function(k,l,m){var n=j.button._.instances[l],o=a.instances[k],p=o._.elementsPath.idBase,q;m=new d.event(m);switch(m.getKeystroke()){case 37:case 9:q=a.document.getById(p+(l+1));if(!q)q=a.document.getById(p+'0');q.focus();return false;case 39:case 2000+9:q=a.document.getById(p+(l-1));if(!q)q=a.document.getById(p+(o._.elementsPath.list.length-1));q.focus();return false;case 27:o.focus();return false;case 13:case 32:this.click(k,l);return false;}return true;}};(function(){var k={exec:function(m){m.insertElement(m.document.createElement('hr'));}},l='horizontalrule';a.plugins.add(l,{init:function(m,n){m.addCommand(l,k);m.ui.addButton('HorizontalRule',{label:m.lang.horizontalrule,command:l});}});})();a.plugins.add('htmldataprocessor',{requires:['htmlwriter'],init:function(k,l){k.dataProcessor=new a.htmlDataProcessor();}});a.htmlDataProcessor=function(){this.writer=new a.htmlWriter();};a.htmlDataProcessor.prototype={toHtml:function(k){return k;},toDataFormat:function(k){var l=this.writer,m=a.htmlParser.fragment.fromHtml(k.getHtml());l.reset();m.writeHtml(l);return l.getHtml(true);}};a.plugins.add('keystrokes',{beforeInit:function(k){k.keystrokeHandler=new a.keystrokeHandler(k);},init:function(k){var l=k.config.keystrokes,m=k.config.blockedKeystrokes,n=k.keystrokeHandler.keystrokes,o=k.keystrokeHandler.blockedKeystrokes;for(var p=0;p<l.length;p++)n[l[p][0]]=l[p][1];for(p=0;p<m.length;p++)o[m[p]]=1;}});a.keystrokeHandler=function(k){var l=this;if(k.keystrokeHandler)return k.keystrokeHandler;l.keystrokes={};l.blockedKeystrokes={};l._={editor:k};return l;};(function(){var k=function(l){var p=this;l=l.data;var m=l.getKeystroke(),n=p.keystrokes[m],o=!p._.editor.fire('key',{keyCode:m});if(!o){if(n)o=p._.editor.execCommand(n)!==false;if(!o)o=!!p.blockedKeystrokes[m];}if(o)l.preventDefault(true);return!o;};a.keystrokeHandler.prototype={attach:function(l){l.on('keydown',k,this);}};})();i.blockedKeystrokes=[1000+66,1000+73,1000+85];i.keystrokes=[[4000+121,'toolbarFocus'],[4000+122,'elementsPathFocus'],[1000+86,'paste'],[2000+45,'paste'],[1000+88,'cut'],[2000+46,'cut'],[1000+90,'undo'],[1000+89,'redo'],[1000+2000+90,'redo'],[1000+76,'link'],[1000+66,'bold'],[1000+73,'italic'],[1000+85,'underline'],[1000+4000+13,'fitWindow'],[2000+32,'nbsp']];a.plugins.add('newpage',{init:function(k,l){k.addCommand('newpage',{exec:function(m){m.setData(m.config.newpage_html);
}});k.ui.addButton('NewPage',{label:k.lang.newpage,command:'newpage'});}});i.newpage_html='';a.plugins.add('removeformat',{requires:['selection'],init:function(k,l){k.addCommand('removeFormat',a.plugins.removeformat.commands.removeformat);k.ui.addButton('RemoveFormat',{label:k.lang.removeFormat,command:'removeFormat'});}});a.plugins.removeformat={commands:{removeformat:{exec:function(k){var l=k._.removeFormatRegex||(k._.removeFormatRegex=new RegExp('^(?:'+k.config.removeFormatTags.replace(/,/g,'|')+')$','i')),m=k._.removeAttributes||(k._.removeAttributes=k.config.removeFormatAttributes.split(',')),n=k.getSelection().getRanges();for(var o=0,p;p=n[o];o++){if(p.collapsed)continue;p.enlarge(1);var q=p.createBookmark(),r=q.startNode,s=q.endNode,t=function(w){var x=new d.elementPath(w),y=x.elements;for(var z=1,A;A=y[z];z++){if(A.equals(x.block)||A.equals(x.blockLimit))break;if(l.test(A.getName()))w.breakParent(A);}};t(r);t(s);var u=r.getNextSourceNode(true,1);while(u){if(u.equals(s))break;var v=u.getNextSourceNode(false,1);if(u.getName()!='img'||!u.getAttribute('_cke_protected_html'))if(l.test(u.getName()))u.remove(true);else u.removeAttributes(m);u=v;}p.moveToBookmark(q);}k.getSelection().selectRanges(n);}}}};i.removeFormatTags='b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var';i.removeFormatAttributes='class,style,lang,width,height,align,hspace,valign';a.plugins.add('smiley',{requires:['dialog'],init:function(k,l){k.addCommand('smiley',new a.dialogCommand('smiley'));k.ui.addButton('Smiley',{label:k.lang.smiley.toolbar,command:'smiley'});a.dialog.add('smiley',this.path+'dialogs/smiley.js');}});i.smiley_path=a.basePath+'plugins/smiley/images/';i.smiley_images=['regular_smile.gif','sad_smile.gif','wink_smile.gif','teeth_smile.gif','confused_smile.gif','tounge_smile.gif','embaressed_smile.gif','omg_smile.gif','whatchutalkingabout_smile.gif','angry_smile.gif','angel_smile.gif','shades_smile.gif','devil_smile.gif','cry_smile.gif','lightbulb.gif','thumbs_down.gif','thumbs_up.gif','heart.gif','broken_heart.gif','kiss.gif','envelope.gif'];i.smiley_descriptions=[':)',':(',';)',':D',':/',':P','','','','','','','',';(','','','','',':kiss',''];i.smiley_columns=8;a.plugins.add('sourcearea',{requires:['editingblock'],init:function(k,l){var m=a.plugins.sourcearea;k.on('editingBlockReady',function(){var n;k.addMode('source',{load:function(o,p){n=new g('textarea');n.setAttribute('dir','ltr');n.addClass('cke_source');n.setStyles({width:'100%',height:'100%',resize:'none',outline:'none','text-align':'left'});
if(c)n.setStyles({height:o.$.clientHeight+'px',width:o.$.clientWidth+'px'});if(!c)n.on('mousedown',function(q){q=q.data.$;if(q.stopPropagation)q.stopPropagation();});o.setHtml('');o.append(n);k.mayBeDirty=true;this.loadData(p);k.mode='source';k.fire('mode');},loadData:function(o){n.setValue(o);},getData:function(){return n.getValue();},getSnapshotData:function(){return n.getValue();},unload:function(o){n=null;},focus:function(){n.focus();}});});k.addCommand('source',m.commands.source);if(k.ui.addButton)k.ui.addButton('Source',{label:k.lang.source,command:'source'});k.on('mode',function(){var n=k.getCommand('source');n.state=k.mode=='source'?1:2;n.fire('state');});}});a.plugins.sourcearea={commands:{source:{exec:function(k){k.setMode(k.mode=='source'?'wysiwyg':'source');}}}};a.plugins.add('specialchar',{init:function(k,l){var m='specialchar';a.dialog.add(m,this.path+'dialogs/specialchar.js');k.addCommand(m,new a.dialogCommand(m));k.ui.addButton('SpecialChar',{label:k.lang.specialChar.toolbar,command:m});}});(function(){var k=function(n,o){var p=n.container;if(p){var q=new g('span');q.setAttribute('tabindex',n.container.getTabIndex());q.hide();if(o){q.insertBefore(n.container);q.focusPrevious();}else{q.insertAfter(n.container);q.focusNext();}q.remove();}return p;},l={exec:function(n){return k(n);}},m={exec:function(n){return k(n,true);}};a.plugins.add('tab',{requires:['keystrokes'],init:function(n,o){var p=n.keystrokeHandler.keystrokes;p[9]='tab';p[2000+9]='shiftTab';var q=n.config.tabSpaces,r='';while(q--)r+='�';n.addCommand('tab',{exec:function(s){if(!s.fire('tab'))if(r.length>0){}else return s.execCommand('blur');return true;}});n.addCommand('shiftTab',{exec:function(s){if(!s.fire('shiftTab'))return s.execCommand('blurBack');return true;}});n.addCommand('blur',l);n.addCommand('blurBack',m);}});})();g.prototype.focusNext=function(){var k=this.$,l=this.getTabIndex(),m=false,n,o,p=document.body.all||document.body.getElementsByTagName('*');if(l<=0)for(var q=0,r;r=p[q];q++){if(!m){if(r==k)m=true;continue;}r=new g(r);if(r.getComputedStyle('display')=='none'||r.getComputedStyle('visibility')=='hidden')continue;if(r.getTabIndex()===0){n=r;break;}}else for(q=0,r;r=p[q];q++){if(!m&&r==k){m=true;continue;}r=new g(r);if(r.getComputedStyle('display')=='none'||r.getComputedStyle('visibility')=='hidden')continue;var s=r.getTabIndex();if(m&&s==l){n=r;break;}else if(s>l&&(!n||o>s||o===0)){n=r;o=s;}else if(!n&&s===0){n=r;o=s;}}if(n)n.focus();};g.prototype.focusPrevious=function(){var k=this.$,l=this.getTabIndex(),m=false,n,o,p=document.body.all||document.body.getElementsByTagName('*');
if(l<=0)for(var q=0,r;r=p[q];q++){if(!m&&r==k){if(n&&o===0)break;m=true;continue;}r=new g(r);if(r.getComputedStyle('display')=='none'||r.getComputedStyle('visibility')=='hidden')continue;var s=r.getTabIndex();if(!m&&s===0||s>0&&(!n||o>0&&o<=s)){n=r;o=s;}}else for(q=0,r;r=p[q];q++){if(!m&&r==k){if(n&&o==l)break;m=true;continue;}r=new g(r);s=r.getTabIndex();if(s>0)if(!m&&s==l||s<l&&(!n||o<=s)){n=r;o=s;}}if(n)n.focus();};i.tabSpaces=0;(function(){var k=function(){this.toolbars=[];};k.prototype.focus=function(){for(var m=0,n;n=this.toolbars[m++];)for(var o=0,p;p=n.items[o++];)if(p.focus){p.focus();return;}};var l={toolbarFocus:{exec:function(m){if(m.toolbox)m.toolbox.focus();}}};a.plugins.add('toolbar',{init:function(m,n){var o=function(p,q){switch(q){case 39:case 9:while((p=p.next||p.toolbar.next&&p.toolbar.next.items[0])&&(!p.focus)){}if(p)p.focus();else m.toolbox.focus();return false;case 37:case 2000+9:while((p=p.previous||p.toolbar.previous&&p.toolbar.previous.items[p.toolbar.previous.items.length-1])&&(!p.focus)){}if(p)p.focus();else{var r=m.toolbox.toolbars[m.toolbox.toolbars.length-1].items;r[r.length-1].focus();}return false;case 27:m.focus();return false;case 13:case 32:p.execute();return false;}return true;};m.on('themeSpace',function(p){if(p.data.space==m.config.toolbarLocation){m.toolbox=new k();var q=['<div class="cke_toolbox">'],r=m.toolbox.toolbars,s=m.config.toolbar;for(var t=0;t<s.length;t++){var u=s[t],v='cke_'+e.getNextNumber(),w={id:v,items:[]};q.push('<div id="',v,'" class="cke_toolbar">');var x=r.push(w)-1;if(x>0){w.previous=r[x-1];w.previous.next=w;}for(var y=0;y<u.length;y++){var z,A=u[y];if(A=='-')z=j.separator;else z=m.ui.get(A);if(z){var B=z.render(m,q);x=w.items.push(B)-1;if(x>0){B.previous=w.items[x-1];B.previous.next=B;}B.toolbar=w;B.onkey=o;}}q.push('</div>');}q.push('</div>');p.data.html+=q.join('');}});m.addCommand('toolbarFocus',l.toolbarFocus);}});})();j.separator={render:function(k,l){l.push('<span class="cke_separator"></span>');return{};}};i.toolbarLocation='top';i.toolbar=[['Source','-','NewPage','-','Bold','Italic','Underline','Strike','-','Subscript','Superscript','-','SelectAll','RemoveFormat','-','Smiley','HorizontalRule','SpecialChar']];(function(){var k=/(<(?!br|hr|base|meta|link|param|img|area|input|col)([a-zA-Z0-9:]+)[^>]*)\/>/gi,l=/<[^\>]+ on\w+\s*=[\s\S]+?\>/g,m=/\s(on\w+)(?=\s*=\s*?('|")[\s\S]*?\2)/g,n=/_cke_pa_/g,o=function(B){return B.replace(l,p);},p=function(B){return B.replace(m,' _cke_pa_$1');},q=function(B){return B.replace(n,'');
},r=/<(?:a|area|img)(?=\s).*?\s(?:href|src)=((?:(?:\s*)("|').*?\2)|(?:[^"'][^ >]+))/gi,s=/\s(href|src)(\s*=\s*?('|")[\s\S]*?\3)/gi,t=/<(?:a|area|img)(?=\s)(?:"[^"]*"|'[^']*'|[^<])*>/gi,u=/_cke_saved_/gi,v=function(B){return B.replace(r,w);},w=function(B){return B.replace(s,'$& _cke_saved_$1$2');},x=function(B){return B.replace(t,y);},y=function(B){return B.replace(s,'').replace(u,'');},z=function(B){if(this.mode=='wysiwyg'){var C=this.document.$;if(c)C.selection.createRange().pasteHTML(B.data);else C.execCommand('inserthtml',false,B.data);}},A=function(B){if(this.mode=='wysiwyg'){var C=B.data,D=f.$block[C.getName()],E=this.getSelection(),F=E.getRanges(),G,H,I,J;for(var K=F.length-1;K>=0;K--){G=F[K];G.deleteContents();H=C.clone(true);if(this.config.enterMode!='br'&&D)G.splitBlock();G.insertNode(H);if(!I)I=H;}G.moveToPosition(I,4);E.selectRanges([G]);}};a.plugins.add('wysiwygarea',{requires:['editingblock'],init:function(B,C){B.on('editingBlockReady',function(){var D,E,F,G,H,I=c&&document.domain!=window.location.hostname,J=function(){if(E)E.remove();E=new g('iframe').setAttributes({frameBorder:0,allowTransparency:true}).setStyles({width:'100%',height:'100%'});if(c)if(I)E.setAttribute('src','javascript:void( (function(){document.open();document.domain="'+document.domain+'";'+'document.write( window.parent._cke_htmlToLoad_'+B.name+' );'+'document.close();'+'window.parent._cke_htmlToLoad_'+B.name+' = null;'+'})() )');else E.setAttribute('src','javascript:void(0)');D.append(E);},K='<script id="cke_actscrpt" type="text/javascript">window.onload = function(){var s = document.getElementById( "cke_actscrpt" );s.parentNode.removeChild( s );window.parent.CKEDITOR._.contentDomReady'+B.name+'( window );'+'}'+'</script>',L=function(M){delete a._['contentDomReady'+B.name];var N=M.document,O=N.body;O.spellcheck=!B.config.disableNativeSpellChecker;if(c){O.hideFocus=true;O.disabled=true;O.contentEditable=true;O.removeAttribute('disabled');}else N.designMode='on';try{N.execCommand('enableObjectResizing',false,!B.config.disableObjectResizing);}catch(R){}try{N.execCommand('enableInlineTableEditing',false,!B.config.disableNativeTableHandles);}catch(S){}M=B.window=new d.window(M);N=B.document=new h(N);var P=c||b.safari?M:N;P.on('blur',function(){B.focusManager.blur();});P.on('focus',function(){B.focusManager.focus();});var Q=B.keystrokeHandler;if(Q)Q.attach(N);B.fire('contentDom');if(H){B.mode='wysiwyg';B.fire('mode');H=false;}F=false;if(G)B.focus();};B.addMode('wysiwyg',{load:function(M,N,O){D=M;
if(!I||!b.gecko)J();B.mayBeDirty=true;H=true;if(O)this.loadSnapshotData(N);else this.loadData(N);},loadData:function(M){F=true;if(B.dataProcessor)M=B.dataProcessor.toHtml(M);if(c)M=M.replace(k,'$1></$2>');if(c||b.webkit)M=o(M);M=v(M);if(B.fakeobjects)M=B.fakeobjects.protectHtml(M);M=B.config.docType+'<html dir="'+B.config.contentsLangDirection+'">'+'<head>'+'<link href="'+B.config.contentsCss+'" type="text/css" rel="stylesheet" _fcktemp="true"/>'+'</head>'+'<body>'+M+'</body>'+'</html>'+K;if(I)window['_cke_htmlToLoad_'+B.name]=M;a._['contentDomReady'+B.name]=L;if(I||b.gecko)J();if(!I){var N=E.$.contentWindow.document;N.open();N.write(M);N.close();}},getData:function(){var M=E.$.contentWindow.document.body;if(B.dataProcessor)M=B.dataProcessor.toDataFormat(new g(M));else M=M.innerHTML;M=q(M);M=x(M);if(B.fakeobjects)M=B.fakeobjects.restoreHtml(M);return M;},getSnapshotData:function(){return E.$.contentWindow.document.body.innerHTML;},loadSnapshotData:function(M){E.$.contentWindow.document.body.innerHTML=M;},unload:function(M){B.window=B.document=E=D=G=null;B.fire('contentDomUnload');},focus:function(){if(F)G=true;else if(B.window)B.window.focus();}});B.on('insertHtml',z,null,null,20);B.on('insertElement',A,null,null,20);});}});})();i.disableObjectResizing=false;i.disableNativeTableHandles=true;i.disableNativeSpellChecker=true;a.plugins.add('styles',{requires:['selection']});a.editor.prototype.attachStyleStateChange=function(k,l){var m=this._.styleStateChangeCallbacks;if(!m){m=this._.styleStateChangeCallbacks=[];this.on('selectionChange',function(n){for(var o=0;o<m.length;o++){var p=m[o],q=p.style.checkActive(n.data.path)?1:2;if(p.state!==q){p.fn.call(this,q);p.state!==q;}}});}m.push({style:k,fn:l});};a.STYLE_BLOCK=1;a.STYLE_INLINE=2;a.STYLE_OBJECT=3;(function(){var k={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1},l={a:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,ul:1};a.style=function(u){var v=this.element=(u.element||'*').toLowerCase();this.type=v=='#'||k[v]?1:l[v]?3:2;this._={definition:u};};a.style.prototype={apply:function(u){var v=u.getSelection(),w=v.getRanges();for(var x=0;x<w.length;x++)this.applyToRange(w[x]);v.selectRanges(w);},applyToRange:function(u){var v=this;return(v.applyToRange=v.type==2?m:v.type==1?n:null).call(v,u);},checkActive:function(u){switch(this.type){case 1:return this.checkElementRemovable(u.block||u.blockLimit,true);case 2:var v=u.elements;for(var w=0,x;w<v.length;w++){x=v[w];if(x==u.block||x==u.blockLimit)continue;
if(this.checkElementRemovable(x,true))return true;}}return false;},checkElementRemovable:function(u,v){if(!u||u.getName()!=this.element)return false;var w=this._.definition,x=w.attributes,y=w.styles;if(!v&&!u.hasAttributes())return true;for(var z in x)if(u.getAttribute(z)==x[z])if(!v)return true;else if(v)return false;return true;},setVariable:function(u,v){var w=this._.variables||(this._variables={});w[u]=v;}};var m=function(u){var R=this;var v=u.document;if(u.collapsed){var w=t(R,v);u.insertNode(w);u.moveToPosition(w,2);return;}var x=R.element,y=R._.definition,z,A=f[x]||(z=true,f.span),B=u.createBookmark();u.enlarge(1);u.trim();var C=u.startContainer.getChild(u.startOffset)||u.startContainer.getNextSourceNode(),D=u.endContainer.getChild(u.endOffset)||(u.endOffset?u.endContainer.getNextSourceNode():u.endContainer),E=C,F,G;while(E){var H=false;if(E.equals(D)){E=null;H=true;}else{var I=E.type,J=I==1?E.getName():null;if(J&&E.getAttribute('_fck_bookmark')){E=E.getNextSourceNode(true);continue;}if(!J||A[J]&&(E.getPosition(D)|4|0|8)==(4+0+8)){var K=E.getParent();if(K&&((K.getDtd()||f.span)[x]||z)){if(!F&&(!J||!f.$removeEmpty[J]||(E.getPosition(D)|4|0|8)==(4+0+8))){F=new d.range(v);F.setStartBefore(E);}if(I==3||I==1&&!E.getChildCount()&&E.$.offsetWidth){var L=E,M;while(!L.$.nextSibling&&(M=L.getParent(),A[M.getName()])&&((M.getPosition(C)|2|0|8)==(2+0+8)))L=M;F.setEndAfter(L);if(!L.$.nextSibling)H=true;if(!G)G=I!=3||/[^\s\ufeff]/.test(E.getText());}}else H=true;}else H=true;E=E.getNextSourceNode();}if(H&&G&&F&&!F.collapsed){var N=t(R,v),O=F.getCommonAncestor();while(N&&O){if(O.getName()==x){for(var P in y.attribs)if(N.getAttribute(P)==O.getAttribute(P))N.removeAttribute(P);for(var Q in y.styles)if(N.getStyle(Q)==O.getStyle(Q))N.removeStyle(Q);if(!N.hasAttributes()){N=null;break;}}O=O.getParent();}if(N){F.extractContents().appendTo(N);o(R,N);F.insertNode(N);q(N);if(!c)N.$.normalize();}F=null;}}u.moveToBookmark(B);},n=function(u){},o=function(u,v){var w=u._.definition,x=w.attributes,y=w.styles,z=v.getElementsByTag(u.element);for(var A=z.count();--A>=0;){var B=z.getItem(A);for(var C in x){if(C=='class'&&B.getAttribute('class')!=x[C])continue;B.removeAttribute(C);}for(var D in y)B.removeStyle(D);p(B);}},p=function(u){if(!u.hasAttributes()){var v=u.getFirst(),w=u.getLast();u.remove(true);if(v){q(v);if(w&&!v.equals(w))q(w);}}},q=function(u){if(!u||u.type!=1||!f.$removeEmpty[u.getName()])return;r(u,u.getNext(),true);r(u,u.getPrevious());},r=function(u,v,w){if(v&&v.type==1){var x=v.getAttribute('_fck_bookmark');
if(x)v=w?v.getNext():v.getPrevious();if(v&&v.type==1&&v.getName()==u.getName()){var y=w?u.getLast():u.getFirst();if(x)(w?v.getPrevious():v.getNext()).move(u,!w);v.moveChildren(u,!w);v.remove();if(y)q(y);}}},s=/#\(\s*("|')(.+?)\1[^\)]*\s*\)/g,t=function(u,v){var w=u._.element;if(w)return w.clone();var x=u._.definition,y=u._.variables,z=u.element,A=x.attributes,B=x.styles;if(z=='*')z='span';w=new g(z,v);if(A)for(var C in A){var D=A[C];if(D&&y)D=D.replace(s,function(){return y[arguments[2]]||arguments[0];});w.setAttribute(C,D);}if(B){for(var E in B)w.setStyle(E,B[E]);if(y){D=w.getAttribute('style').replace(s,function(){return y[arguments[2]]||arguments[0];});w.setAttribute('style',D);}}return u._.element=w;};})();a.styleCommand=function(k){this.style=k;};a.styleCommand.prototype.exec=function(k){k.focus();var l=k.document;if(l)this.style.apply(l);return!!l;};(function(){var k=function(){var t=this;var q=t.getSelection();if(!q)return;var r=q.getStartElement(),s=new d.elementPath(r);if(!s.compare(t._.selectionPreviousPath)){t._.selectionPreviousPath=s;t.fire('selectionChange',{selection:q,path:s,element:r});}},l,m,n=function(){m=true;if(l)return;o.call(this);l=e.setTimeout(o,200,this);},o=function(){l=null;if(m){e.setTimeout(k,0,this);m=false;}},p={exec:function(q){switch(q.mode){case 'wysiwyg':q.document.$.execCommand('SelectAll',false,null);break;case 'source':}}};a.plugins.add('selection',{init:function(q,r){q.on('contentDom',function(){if(c)q.document.on('selectionchange',n,q);else{q.document.on('mouseup',n,q);q.document.on('keyup',n,q);}});q.addCommand('selectAll',p);q.ui.addButton('SelectAll',{label:q.lang.selectAll,command:'selectAll'});}});})();a.editor.prototype.getSelection=function(){var m=this;var k=m.document?m.document.getSelection():null;if(k&&c){var l=k.getNative().createRange();if(!l)return null;else if(l.item)return l.item(0).ownerDocument==m.document.$?k:null;else return l.parentElement().ownerDocument==m.document.$?k:null;}return k;};h.prototype.getSelection=function(){return new d.selection(this);};a.SELECTION_NONE=1;a.SELECTION_TEXT=2;a.SELECTION_ELEMENT=3;d.selection=function(k){this.document=k;this._={cache:{}};};(function(){var k={img:1,hr:1,li:1,table:1,tr:1,td:1,embed:1,object:1,ol:1,ul:1};d.selection.prototype={getNative:c?function(){return this._.cache.nativeSel||(this._.cache.nativeSel=this.document.$.selection);}:function(){return this._.cache.nativeSel||(this._.cache.nativeSel=this.document.getWindow().$.getSelection());},getType:c?function(){var o=this;
if(o._.cache.type)return o._.cache.type;var l=1;try{var m=o.getNative(),n=m.type;if(n=='Text')l=2;if(n=='Control')l=3;if(m.createRange().parentElement)l=2;}catch(p){}return o._.cache.type=l;}:function(){var p=this;if(p._.cache.type)return p._.cache.type;var l=2,m=p.getNative();if(!m)l=1;else if(m.rangeCount==1){var n=m.getRangeAt(0),o=n.startContainer;if(o==n.endContainer&&o.nodeType==1&&n.endOffset-n.startOffset==1&&k[o.childNodes[n.startOffset].nodeName.toLowerCase()])l=3;}return p._.cache.type=l;},getRanges:c?(function(){var l=function(m,n){m=m.duplicate();m.collapse(n);var o=m.parentElement(),p=o.childNodes,q;for(var r=0;r<p.length;r++){var s=p[r];if(s.nodeType==1){q=m.duplicate();q.moveToElementText(s);q.collapse();var t=q.compareEndPoints('StartToStart',m);if(t>0)break;else if(t===0)return{container:o,offset:r};q=null;}}if(!q){q=m.duplicate();q.moveToElementText(o);q.collapse(false);}q.setEndPoint('StartToStart',m);var u=q.text.length;while(u>0)u-=p[--r].nodeValue.length;if(u===0)return{container:o,offset:r};else return{container:p[r],offset:-u};};return function(){var w=this;if(w._.cache.ranges)return w._.cache.ranges;var m=w.getNative(),n=m.createRange(),o=w.getType(),p;if(o==2){p=new d.range(w.document);var q=l(n,true);p.setStart(new d.node(q.container),q.offset);q=l(n);p.setEnd(new d.node(q.container),q.offset);return w._.cache.ranges=[p];}else if(o==3){var r=w._.cache.ranges=[];for(var s=0;s<n.length;s++){var t=n.item(s),u=t.parentNode,v=0;p=new d.range(w.document);for(;v<u.childNodes.length&&u.childNodes[v]!=t;v++){}p.setStart(new d.node(u),v);p.setEnd(new d.node(u),v+1);r.push(p);}return r;}return w._.cache.ranges=[];};})():function(){var q=this;if(q._.cache.ranges)return q._.cache.ranges;var l=[],m=q.getNative();for(var n=0;n<m.rangeCount;n++){var o=m.getRangeAt(n),p=new d.range(q.document);p.setStart(new d.node(o.startContainer),o.startOffset);p.setEnd(new d.node(o.endContainer),o.endOffset);l.push(p);}return q._.cache.ranges=l;},getStartElement:function(){var p=this;var l,m=p.getNative();switch(p.getType()){case 3:return p.getSelectedElement();case 2:var n=p.getRanges()[0];if(n)if(!n.collapsed){n.optimize();l=n.startContainer;if(l.type!=1)return l.getParent();l=l.getChild(n.startOffset);if(!l||l.type!=1)return n.startContainer;var o=l.getFirst();while(o&&o.type==1){l=o;o=o.getFirst();}return l;}if(c){n=m.createRange();n.collapse(true);l=n.parentElement();}else{l=m.anchorNode;if(l.nodeType!=1)l=l.parentNode;}}return l?new g(l):null;},getSelectedElement:function(){var l;
if(this.getType()==3){var m=this.getNative();if(c)try{l=m.createRange().item(0);}catch(o){}else{var n=m.getRangeAt(0);l=n.startContainer.childNodes[n.startOffset];}}return l?new g(l):null;},reset:function(){this._.cache={};},selectElement:c?function(l){this.getNative().empty();var m;try{m=this.document.$.body.createControlRange();m.addElement(l.$);}catch(n){m=this.document.$.body.createTextRange();m.moveToElementText(l.$);}m.select();}:function(l){var m=this.document.$.createRange();m.selectNode(l.$);var n=this.getNative();n.removeAllRanges();n.addRange(m);},selectRanges:c?function(l){if(l[0])l[0].select();}:function(l){var m=this.getNative();m.removeAllRanges();for(var n=0;n<l.length;n++){var o=l[n],p=this.document.$.createRange();p.setStart(o.startContainer.$,o.startOffset);p.setEnd(o.endContainer.$,o.endOffset);m.addRange(p);}},createBookmarks:function(){var l=[],m=this.getRanges();for(var n=0;n<m.length;n++)l.push(m[n].createBookmark());return l;},selectBookmarks:function(l){var m=[];for(var n=0;n<l.length;n++){var o=new d.range(this.document);o.moveToBookmark(l[n]);m.push(o);}this.selectRanges(m);return this;}};})();d.range.prototype.select=c?function(){var s=this;var k=s.collapsed,l,m,n=s.createBookmark(),o=n.startNode,p;if(!k)p=n.endNode;var q=s.document.$.body.createTextRange();q.moveToElementText(o.$);q.moveStart('character',1);if(p){var r=s.document.$.body.createTextRange();r.moveToElementText(p.$);q.setEndPoint('EndToEnd',r);q.moveEnd('character',-1);}else{l=(!o.hasPrevious()||o.getPrevious().is&&o.getPrevious().is('br'))&&(!o.hasNext());m=s.document.createElement('span');m.setHtml('&#65279;');m.insertBefore(o);if(l)s.document.createText('?').insertBefore(o);}s.setStartBefore(o);o.remove();if(k){if(l)q.select();else q.select();m.remove();}else{s.setEndBefore(p);p.remove();q.select();}}:function(){var n=this;var k=n.startContainer;if(n.collapsed&&k.type==1&&!k.getChildCount())k.append(new d.text(''));var l=n.document.$.createRange();l.setStart(k.$,n.startOffset);try{l.setEnd(n.endContainer.$,n.endOffset);}catch(o){if(o.toString().indexOf('NS_ERROR_ILLEGAL_VALUE')>=0){n.collapse(true);l.setEnd(n.endContainer.$,n.endOffset);}else throw o;}var m=n.document.getSelection().getNative();m.removeAllRanges();m.addRange(l);};a.htmlWriter=function(){var m=this;m.indentationChars='\t';m.selfClosingEnd=' />';m.lineBreakChars='\n';m._={output:[],indent:false,indentation:'',rules:{}};var k=f;for(var l in e.extend({},k.$block,k.$listItem,k.$tableContent))m.setRules(l,{indent:true,breakBeforeOpen:true,breakAfterOpen:true,breakBeforeClose:!k[l]['#'],breakAfterClose:true});
m.setRules('br',{breakAfterOpen:true});};a.htmlWriter.prototype={openTag:function(k,l){var n=this;var m=n._.rules[k];if(n._.indent)n.indentation();else if(m&&m.breakBeforeOpen){n.lineBreak();n.indentation();}n._.output.push('<',k);},openTagClose:function(k,l){var n=this;var m=n._.rules[k];if(l)n._.output.push(n.selfClosingEnd);else{n._.output.push('>');if(m&&m.indent)n._.indentation+=n.indentationChars;}if(m&&m.breakAfterOpen)n.lineBreak();},attribute:function(k,l){this._.output.push(' ',k,'="',l,'"');},closeTag:function(k){var m=this;var l=m._.rules[k];if(l&&l.indent)m._.indentation=m._.indentation.substr(m.indentationChars.length);if(m._.indent)m.indentation();else if(l&&l.breakBeforeClose){m.lineBreak();m.indentation();}m._.output.push('</',k,'>');if(l&&l.breakAfterClose)m.lineBreak();},text:function(k){if(this._.indent){this.indentation();k=e.ltrim(k);}this._.output.push(k);},comment:function(k){if(this._.indent)this.indentation();this._.output.push('<!--',k,'-->');},lineBreak:function(){var k=this;if(k._.output.length>0)k._.output.push(k.lineBreakChars);k._.indent=true;},indentation:function(){this._.output.push(this._.indentation);this._.indent=false;},reset:function(){this._.output=[];},getHtml:function(k){var l=this._.output.join('');if(k)this.reset();return l;},setRules:function(k,l){this._.rules[k]=l;}};a.plugins.add('htmlwriter');a.plugins.add('dialog',{requires:['dialogui']});a.DIALOG_RESIZE_NONE=0;a.DIALOG_RESIZE_WIDTH=1;a.DIALOG_RESIZE_HEIGHT=2;a.DIALOG_RESIZE_BOTH=3;(function(){a.dialog=function(C,D){var E=a.dialog._.dialogDefinitions[D];if(!E){console.log('Error: The dialog "'+D+'" is not defined.');return;}E=e.extend(E(C),k);E=new o(this,E);this.definition=E=a.fire('dialogDefinition',{name:D,definition:E},C).definition;var F=C.theme.buildDialog(C);this._={editor:C,element:F.element,name:D,size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},pageCount:0,lastTab:null};this.parts={tl:[0,0],tl_resize:[0,0,0],t:[0,1],t_resize:[0,1,0],tr:[0,2],tr_resize:[0,2,0],l:[1,0],l_resize:[1,0,0],c:[1,1],r:[1,2],r_resize:[1,2,0],bl:[2,0],bl_resize:[2,0,0],b:[2,1],b_resize:[2,1,0],br:[2,2],br_resize:[2,2,0],title:[1,1,0],close:[1,1,0,0],tabs:[1,1,1,0,0],tabs_table:[1,1,1],contents:[1,1,2],footer:[1,1,3]};var G=this._.element.getFirst();for(var H in this.parts)this.parts[H]=G.getChild(this.parts[H]);a.event.call(this);if(E.onLoad)this.on('load',E.onLoad);if(E.onShow)this.on('show',E.onShow);if(E.onHide)this.on('hide',E.onHide);if(E.onOk)this.on('ok',function(O){if(E.onOk.call(this,O)===false)O.data.hide=false;
});if(E.onCancel)this.on('cancel',function(O){if(E.onCancel.call(this,O)===false)O.data.hide=false;});var I=this,J=function(O){var P=I._.contents,Q=false;for(var R in P)for(var S in P[R]){Q=O.call(this,P[R][S]);if(Q)return;}};this.on('ok',function(O){J(function(P){if(P.validate){var Q=P.validate(this);if(typeof Q=='string'){alert(Q);Q=false;}if(Q===false){if(P.select)P.select();else P.focus();O.data.hide=false;O.stop();return true;}}});},this,null,0);this.on('cancel',function(O){J(function(P){if(P.isChanged()){if(!confirm(C.lang.common.confirmCancel))O.data.hide=false;return true;}});},this,null,0);this.parts.close.on('click',function(O){if(this.fire('cancel',{hide:true}).hide!==false)this.hide();},this);if(b.ie6Compat)this.on('load',function(O){var P=this.getElement(),Q=P.getFirst();Q.remove();Q.appendTo(P);},this);q(this);r(this);new d.text(E.title,a.document).appendTo(this.parts.title);for(H=0;H<E.contents.length;H++)this.addPage(E.contents[H]);var K=/cke_dialog_tab(\s|$|_)/,L=/cke_dialog_tab(\s|$)/;this.parts.tabs.on('click',function(O){var P=O.data.getTarget(),Q=P,R,S;if(!K.test(P.$.className))return;while(P.getName()!='td'||!L.test(P.$.className))P=P.getParent();R=P.$.id.substr(0,P.$.id.lastIndexOf('_'));this.selectPage(R);},this);var M=[],N=a.dialog._.uiElementBuilders.hbox.build(this,{type:'hbox',className:'cke_dialog_footer_buttons',widths:[],children:E.buttons},M).getChild();this.parts.footer.setHtml(M.join(''));for(H=0;H<N.length;H++)this._.buttons[N[H].id]=N[H];this._.dummyText=g.createFromHtml('<input type="text" style="position: absolute; left: -100000px; top: -100000px" />');this._.dummyText.appendTo(G);a.skins.load(C.config.skin,'dialog');};a.dialog.prototype={resize:(function(){return function(C,D){var E=this;if(E._.size&&E._.size.width==C&&E._.size.height==D)return;a.dialog.fire('resize',{dialog:E,skin:E._.editor.config.skin,width:C,height:D},E._.editor);E._.size={width:C,height:D};};})(),getSize:function(){return e.extend({},this._.size);},move:(function(){var C;return function(D,E){var G=this;if(C===undefined)C=G._.element.getFirst().getComputedStyle('position')=='fixed';if(C&&G._.position&&G._.position.x==D&&G._.position.y==E)return;G._.position={x:D,y:E};if(!C){var F=a.document.getWindow().getScrollPosition();D+=F.x;E+=F.y;}G._.element.getFirst().setStyles({left:D+'px',top:E+'px'});};})(),getPosition:function(){return e.extend({},this._.position);},show:function(){var C=this._.element,D=this.definition;if(!(C.getParent()&&C.getParent().equals(a.document.getBody())))C.appendTo(a.document.getBody());
else return;this.resize(D.minWidth,D.minHeight);var E=a.document.getWindow().getViewPaneSize();this.move((E.width-this._.size.width)/(2),(E.height-this._.size.height)/(2));this.selectPage(this.definition.contents[0].id);this.reset();if(a.dialog._.currentZIndex===null)a.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex;this._.element.getFirst().setStyle('z-index',a.dialog._.currentZIndex+=10);if(a.dialog._.currentTop===null){a.dialog._.currentTop=this;this._.parentDialog=null;t(this._.editor);a.document.on('keydown',w);a.document.on('keyup',x);}else{this._.parentDialog=a.dialog._.currentTop;var F=this._.parentDialog.getElement().getFirst();F.$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2);a.dialog._.currentTop=this;}y(this,this,'',null,function(){this.getButton('cancel')&&this.getButton('cancel').click();});if(!this._.parentDialog)this.saveSelection();this._.dummyText.focus();this._.dummyText.$.select();this.fireOnce('load',{});this.fire('show',{});},foreach:function(C){var F=this;for(var D in F._.contents)for(var E in F._.contents[D])C(F._.contents[D][E]);return F;},reset:(function(){var C=function(D){if(D.reset)D.reset();};return function(){this.foreach(C);return this;};})(),pushDefault:(function(){var C=function(D){if(D.pushDefault)D.pushDefault();};return function(){this.foreach(C);return this;};})(),popDefault:(function(){var C=function(D){if(D.popDefault)D.popDefault();};return function(){this.foreach(C);return this;};})(),setupContent:function(){var C=arguments;this.foreach(function(D){if(D.setup)D.setup.apply(D,C);});},commitContent:function(){var C=arguments;this.foreach(function(D){if(D.commit)D.commit.apply(D,C);});},hide:function(){var E=this;var C=E._.element;if(!C.getParent())return;C.remove();z(E);if(!E._.parentDialog)u();else{var D=E._.parentDialog.getElement().getFirst();D.setStyle('z-index',parseInt(D.$.style.zIndex,10)+Math.floor(E._.editor.config.baseFloatZIndex/2));}a.dialog._.currentTop=E._.parentDialog;if(!E._.parentDialog){a.dialog._.currentZIndex=null;a.document.removeListener('keydown',w);a.document.removeListener('keyup',x);E.restoreSelection();E._.editor.focus();}else a.dialog._.currentZIndex-=10;E.fire('hide',{});},addPage:function(C){var M=this;var D=[],E=C.title?'title="'+e.htmlEncode(C.title)+'" ':'',F=C.elements,G=a.dialog._.uiElementBuilders.vbox.build(M,{type:'vbox',className:'cke_dialog_page_contents',children:C.elements,expand:!!C.expand},D),H=g.createFromHtml(D.join('')),I=g.createFromHtml(['<table><tbody><tr><td class="cke_dialog_tab" ',E,'>','<table border="0" cellspacing="0" cellpadding="0"><tbody><tr>','<td class="cke_dialog_tab_left"></td>','<td class="cke_dialog_tab_center">',e.htmlEncode(C.label.replace(/ /g,'�')),'</td>','<td class="cke_dialog_tab_right"></td>','</tr></tbody></table></td></tr></tbody></table>'].join(''));
I=I.getChild([0,0,0]);if(M._.lastTab)M._.lastTab.removeClass('last');I.addClass(M._.pageCount>0?'last':'first');if(M._.pageCount===0)M.parts.c.addClass('single_page');else M.parts.c.removeClass('single_page');M._.tabs[C.id]=[I,H];M._.pageCount++;M._.lastTab=I;var J=M._.contents[C.id]={},K,L=G.getChild();while(K=L.shift()){J[K.id]=K;if(typeof K.getChild=='function')L.push.apply(L,K.getChild());}I.unselectable();H.appendTo(M.parts.contents);I.insertBefore(M.parts.tabs.getChild(M.parts.tabs.getChildCount()-1));I.setAttribute('id',C.id+'_'+e.getNextNumber());H.setAttribute('name',C.id);if(C.accessKey){y(M,M,'CTRL+'+C.accessKey,B,A);M._.accessKeyMap['CTRL+'+C.accessKey]=C.id;}},selectPage:function(C){var I=this;for(var D in I._.tabs){var E=I._.tabs[D][0],F=I._.tabs[D][1];if(D!=C){E.removeClass('cke_dialog_tab_selected');F.hide();}}var G=I._.tabs[C];G[0].addClass('cke_dialog_tab_selected');G[1].show();var H=I;},hidePage:function(C){var D=this._.tabs[C]&&this._.tabs[C][0];if(!D)return;D.hide();},showPage:function(C){var D=this._.tabs[C]&&this._.tabs[C][0];if(!D)return;D.show();},getElement:function(){return this._.element;},getContentElement:function(C,D){return this._.contents[C][D];},getValueOf:function(C,D){return this.getContentElement(C,D).getValue();},setValueOf:function(C,D,E){return this.getContentElement(C,D).setValue(E);},getButton:function(C){return this._.buttons[C];},click:function(C){return this._.buttons[C].click();},disableButton:function(C){return this._.buttons[C].disable();},enableButton:function(C){return this._.buttons[C].enable();},getPageCount:function(){return this._.pageCount;},getParentEditor:function(){return this._.editor;},saveSelection:function(){if(this._.editor.mode){var C=new d.selection(this._.editor.document);this._.selectedRanges=C.getRanges();}},clearSavedSelection:function(){delete this._.selectedRanges;},restoreSelection:function(){var C=this;if(C._.editor.mode&&C._.selectedRanges)new d.selection(C._.editor.document).selectRanges(C._.selectedRanges);}};e.extend(a.dialog,{add:function(C,D){this._.dialogDefinitions[C]=D;},exists:function(C){return!!this._.dialogDefinitions[C];},okButton:(function(){var C=function(D,E){E=E||{};return e.extend({id:'ok',type:'button',label:D.lang.common.ok,style:'width: 60px',onClick:function(F){var G=F.data.dialog;if(G.fire('ok',{hide:true}).hide!==false)G.hide();}},E,true);};C.type='button';C.override=function(D){return e.extend(function(E){return C(E,D);},{type:'button'},true);};return C;})(),cancelButton:(function(){var C=function(D,E){E=E||{};
return e.extend({id:'cancel',type:'button',label:D.lang.common.cancel,style:'width: 60px',onClick:function(F){var G=F.data.dialog;if(G.fire('cancel',{hide:true}).hide!==false)G.hide();}},E,true);};C.type='button';C.override=function(D){return e.extend(function(E){return C(E,D);},{type:'button'},true);};return C;})(),addUIElement:function(C,D){this._.uiElementBuilders[C]=D;},setMargins:function(C,D,E,F){this._.margins=[C,D,E,F];}});a.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null,margins:[0,0,0,0]};a.event.implementOn(a.dialog);a.event.implementOn(a.dialog.prototype);var k={resizable:0,minWidth:600,minHeight:400,buttons:[a.dialog.okButton,a.dialog.cancelButton]},l=function(C,D,E){for(var F=0,G;G=C[F];F++){if(G.id==D)return G;if(E&&G[E]){var H=l(G[E],D,E);if(H)return H;}}return null;},m=function(C,D,E,F,G){if(E){for(var H=0,I;I=C[H];H++){if(I.id==E){C.splice(H,0,D);return D;}if(F&&I[F]){var J=m(I[F],D,E,F,true);if(J)return J;}}if(G)return null;}C.push(D);return D;},n=function(C,D,E){for(var F=0,G;G=C[F];F++){if(G.id==D)return C.splice(F,1);if(E&&G[E]){var H=n(G[E],D,E);if(H)return H;}}return null;},o=function(C,D){this.dialog=C;var E=D.contents;for(var F=0,G;G=E[F];F++)E[F]=new p(C,G);e.extend(this,D);};o.prototype={getContents:function(C){return l(this.contents,C);},getButton:function(C){return l(this.buttons,C);},addContents:function(C,D){return m(this.contents,C,D);},addButton:function(C,D){return m(this.buttons,C,D);},removeContents:function(C){n(this.contents,C);},removeButton:function(C){n(this.buttons,C);}};var p=function(C,D){this._={dialog:C};e.extend(this,D);};p.prototype={get:function(C){return l(this.elements,C,'children');},add:function(C,D){return m(this.elements,C,D,'children');},remove:function(C){n(this.elements,C,'children');}};var q=function(C){var D=null,E=null,F=C.getElement().getFirst(),G=C._.editor.config.dialog_magnetDistance,H=function(J){var K=C.getSize(),L=a.document.getWindow().getViewPaneSize(),M=J.data.$.screenX,N=J.data.$.screenY,O=M-D.x,P=N-D.y,Q,R;D={x:M,y:N};E.x+=O;E.y+=P;if(E.x+a.dialog._.margins[3]<G)Q=-a.dialog._.margins[3];else if(E.x-a.dialog._.margins[1]>L.width-K.width-G)Q=L.width-K.width+a.dialog._.margins[1];else Q=E.x;if(E.y+a.dialog._.margins[0]<G)R=-a.dialog._.margins[0];else if(E.y-a.dialog._.margins[2]>L.height-K.height-G)R=L.height-K.height+a.dialog._.margins[2];else R=E.y;C.move(Q,R);J.data.preventDefault();},I=function(J){a.document.removeListener('mousemove',H);a.document.removeListener('mouseup',I);
if(b.ie6Compat){var K=new h(frames('cke_dialog_background_iframe').document);K.removeListener('mousemove',H);K.removeListener('mouseup',I);}};C.parts.title.on('mousedown',function(J){D={x:J.data.$.screenX,y:J.data.$.screenY};a.document.on('mousemove',H);a.document.on('mouseup',I);E=C.getPosition();if(b.ie6Compat){var K=new h(frames('cke_dialog_background_iframe').document);K.on('mousemove',H);K.on('mouseup',I);}J.data.preventDefault();},C);},r=function(C){var D=C.definition,E=D.minWidth||0,F=D.minHeight||0,G=D.resizable,H=function(W,X){W.y+=X;},I=function(W,X){W.x2+=X;},J=function(W,X){W.y2+=X;},K=function(W,X){W.x+=X;},L=null,M=null,N=C._.editor.config.magnetDistance,O=['tl','t','tr','l','r','bl','b','br'],P=function(W){var X=W.listenerData.part,Y=C.getSize();M=C.getPosition();e.extend(M,{x2:M.x+Y.width,y2:M.y+Y.height});L={x:W.data.$.screenX,y:W.data.$.screenY};a.document.on('mousemove',Q,C,{part:X});a.document.on('mouseup',R,C,{part:X});if(b.ie6Compat){var Z=new h(frames('cke_dialog_background_iframe').document);Z.on('mousemove',Q,C,{part:X});Z.on('mouseup',R,C,{part:X});}W.data.preventDefault();},Q=function(W){var X=W.data.$.screenX,Y=W.data.$.screenY,Z=X-L.x,aa=Y-L.y,ab=a.document.getWindow().getViewPaneSize(),ac=W.listenerData.part;if(ac.search('t')!=-1)H(M,aa);if(ac.search('l')!=-1)K(M,Z);if(ac.search('b')!=-1)J(M,aa);if(ac.search('r')!=-1)I(M,Z);L={x:X,y:Y};var ad,ae,af,ag;if(M.x+a.dialog._.margins[3]<N)ad=-a.dialog._.margins[3];else if(ac.search('l')!=-1&&M.x2-M.x<E+N)ad=M.x2-E;else ad=M.x;if(M.y+a.dialog._.margins[0]<N)ae=-a.dialog._.margins[0];else if(ac.search('t')!=-1&&M.y2-M.y<F+N)ae=M.y2-F;else ae=M.y;if(M.x2-a.dialog._.margins[1]>ab.width-N)af=ab.width+a.dialog._.margins[1];else if(ac.search('r')!=-1&&M.x2-M.x<E+N)af=M.x+E;else af=M.x2;if(M.y2-a.dialog._.margins[2]>ab.height-N)ag=ab.height+a.dialog._.margins[2];else if(ac.search('b')!=-1&&M.y2-M.y<F+N)ag=M.y+F;else ag=M.y2;C.move(ad,ae);C.resize(af-ad,ag-ae);W.data.preventDefault();},R=function(W){a.document.removeListener('mouseup',R);a.document.removeListener('mousemove',Q);if(b.ie6Compat){var X=new h(frames('cke_dialog_background_iframe').document);X.removeListener('mouseup',R);X.removeListener('mousemove',Q);}},S=/[lr]/,T=/[tb]/;for(var U=0;U<O.length;U++){var V=C.parts[O[U]+'_resize'];if(G==0||G==2&&S.test(O[U])||G==1&&T.test(O[U])){V.hide();continue;}V.on('mousedown',P,C,{part:O[U]});}},s,t=function(C){var D=a.document.getWindow(),E=['<div style="position: ',b.ie6Compat?'absolute':'fixed','; z-index: ',C.config.baseFloatZIndex,'; top: 0px; left: 0px; ','background-color: ',C.config.dialog_backgroundCoverColor,'" id="cke_dialog_background_cover">'];
if(b.ie6Compat)E.push('<iframe hidefocus="true" frameborder="0" name="cke_dialog_background_iframe" src="javascript: \'\'" ','style="position: absolute; left: 0px; top: 0px; width: 100%; height: 100%; ','progid:DXImageTransform.Microsoft.Alpha(opacity=0)" ></iframe>');E.push('</div>');var F=g.createFromHtml(E.join('')),G=function(){var J=D.getViewPaneSize();F.setStyles({width:J.width+'px',height:J.height+'px'});},H=function(){var J=D.getScrollPosition(),K=a.dialog._.currentTop;F.setStyles({left:J.x+'px',top:J.y+'px'});do{var L=K.getPosition();K.move(L.x,L.y);}while(K=K._.parentDialog)};s=G;D.on('resize',G);G();if(b.ie6Compat){var I=function(){H();arguments.callee.prevScrollHandler.apply(this,arguments);};D.$.setTimeout(function(){I.prevScrollHandler=window.onscroll||(function(){});window.onscroll=I;},0);H();}F.setOpacity(C.config.dialog_backgroundCoverOpacity);F.appendTo(a.document.getBody());},u=function(){var C=a.document.getById('cke_dialog_background_cover'),D=a.document.getWindow();if(C){C.remove();D.removeListener('resize',s);if(b.ie6Compat)D.$.setTimeout(function(){var E=window.onscroll&&window.onscroll.prevScrollHandler;window.onscroll=E||null;},0);s=null;}},v={},w=function(C){var D=C.data.$.ctrlKey||C.data.$.metaKey,E=C.data.$.altKey,F=C.data.$.shiftKey,G=String.fromCharCode(C.data.$.keyCode),H=v[(D?'CTRL+':'')+(E?'ALT+':'')+(F?'SHIFT+':'')+G];if(!H||!H.length)return;H=H[H.length-1];H.keydown&&H.keydown.call(H.uiElement,H.dialog,H.key);C.data.preventDefault();},x=function(C){var D=C.data.$.ctrlKey||C.data.$.metaKey,E=C.data.$.altKey,F=C.data.$.shiftKey,G=String.fromCharCode(C.data.$.keyCode),H=v[(D?'CTRL+':'')+(E?'ALT+':'')+(F?'SHIFT+':'')+G];if(!H||!H.length)return;H=H[H.length-1];H.keyup&&H.keyup.call(H.uiElement,H.dialog,H.key);C.data.preventDefault();},y=function(C,D,E,F,G){var H=v[E]||(v[E]=[]);H.push({uiElement:C,dialog:D,key:E,keyup:G||C.accessKeyUp,keydown:F||C.accessKeyDown});},z=function(C){for(var D in v){var E=v[D];for(var F=E.length-1;F>=0;F--)if(E[F].dialog==C||E[F].uiElement==C)E.splice(F,1);if(E.length===0)delete v[D];}},A=function(C,D){if(C._.accessKeyMap[D])C.selectPage(C._.accessKeyMap[D]);},B=function(C,D){};(function(){var C=/^\d+(?:\.\d+)?$/,D=function(E){return E+(C.test(E)?'px':'');};j.dialog={uiElement:function(E,F,G,H,I,J,K){if(arguments.length<4)return;var L=(H.call?H(F):H)||('div'),M=['<',L,' '],N=(I&&I.call?I(F):I)||({}),O=(J&&J.call?J(F):J)||({}),P=(K&&K.call?K(E,F):K)||(''),Q=this.domId=O.id||e.getNextNumber()+'_uiElement',R=this.id=F.id,S;
O.id=Q;var T={};if(F.type)T['cke_dialog_ui_'+F.type]=1;if(F.className)T[F.className]=1;var U=O['class']&&O['class'].split?O['class'].split(' '):[];for(S=0;S<U.length;S++)if(U[S])T[U[S]]=1;var V=[];for(S in T)V.push(S);O['class']=V.join(' ');if(F.title)O.title=F.title;var W=(F.style||'').split(';');for(S in N)W.push(S+':'+N[S]);for(S=W.length-1;S>=0;S--)if(W[S]==='')W.splice(S,1);if(W.length>0)O.style=(O.style||'')+(W.join('; '));for(S in O)M.push(S+'="'+e.htmlEncode(O[S])+'" ');M.push('>',P,'</',L,'>');G.push(M.join(''));(this._||(this._={})).dialog=E;if(typeof F.isChanged=='boolean')this.isChanged=function(){return F.isChanged;};if(typeof F.isChanged=='function')this.isChanged=F.isChanged;a.event.implementOn(this);this.registerEvents(F);if(this.accessKeyUp&&this.accessKeyDown&&F.accessKey)y(this,E,'CTRL+'+F.accessKey);e.extend(this,F);},hbox:function(E,F,G,H,I){if(arguments.length<4)return;this._||(this._={});var J=this._.children=F,K=I&&I.widths||null,L=I&&I.height||null,M={},N,O=function(){var P=['<tbody><tr class="cke_dialog_ui_hbox">'];for(N=0;N<G.length;N++){var Q='cke_dialog_ui_hbox_child',R=[];if(N===0)Q='cke_dialog_ui_hbox_first';if(N==G.length-1)Q='cke_dialog_ui_hbox_last';P.push('<td class="',Q,'" ');if(K)if(K[N])R.push('width:'+D(K[N]));else R.push('width:'+Math.floor(100/G.length)+'%');if(L)R.push('height:'+D(L));if(I&&I.padding!=undefined)R.push('padding:'+D(I.padding));if(R.length>0)P.push('style="'+R.join('; ')+'" ');P.push('>',G[N],'</td>');}P.push('</tr></tbody>');return P.join('');};j.dialog.uiElement.call(this,E,I||{type:'hbox'},H,'table',M,{align:I&&I.align||(E.getParentEditor().lang.dir=='ltr'?'left':'right')},O);},vbox:function(E,F,G,H,I){if(arguments.length<3)return;this._||(this._={});var J=this._.children=F,K=I&&I.width||null,L=I&&I.heights||null,M=function(){var N=['<table cellspacing="0" border="0" '];N.push('style="');if(I&&I.expand)N.push('height:100%;');N.push('width:'+D(K||'100%'),';');N.push('"');N.push('align="',e.htmlEncode(I&&I.align||(E.getParentEditor().lang.dir=='ltr'?'left':'right')),'" ');N.push('><tbody>');for(var O=0;O<G.length;O++){var P=[];N.push('<tr><td ');if(K)P.push('width:'+D(K||'100%'));if(L)P.push('height:'+D(L[O]));else if(I&&I.expand)P.push('height:'+Math.floor(100/G.length)+'%');if(I&&I.padding!=undefined)P.push('padding:'+D(I.padding));if(P.length>0)N.push('style="',P.join('; '),'" ');N.push(' class="cke_dialog_ui_vbox_child">',G[O],'</td></tr>');}N.push('</tbody></table>');return N.join('');};j.dialog.uiElement.call(this,E,I||{type:'vbox'},H,'div',null,null,M);
}};})();j.dialog.uiElement.prototype={getElement:function(){return a.document.getById(this.domId);},getInputElement:function(){return this.getElement();},getDialog:function(){return this._.dialog;},setValue:function(C){this.getInputElement().setValue(C);this.fire('change',{value:C});return this;},getValue:function(){return this.getInputElement().getValue();},isChanged:function(){return false;},selectParentTab:function(){var C=this.getInputElement(),D=C,E;while((D=D.getParent())&&(D.$.className.search('cke_dialog_page_contents')==-1)){}E=D.getAttribute('name');this._.dialog.selectPage(E);return this;},focus:function(){this.selectParentTab().getInputElement().focus();return this;},registerEvents:function(C){var D=/^on([A-Z]\w+)/,E,F=function(H,I,J,K){I.on('load',function(){H.getInputElement().on(J,K,H);});};for(var G in C){if(!(E=G.match(D)))continue;if(this.eventProcessors[G])this.eventProcessors[G].call(this,this._.dialog,C[G]);else F(this,this._.dialog,E[1].toLowerCase(),C[G]);}return this;},eventProcessors:{onLoad:function(C,D){C.on('load',D);},onShow:function(C,D){C.on('show',D);},onHide:function(C,D){C.on('hide',D);}},accessKeyDown:function(C,D){this.focus();},accessKeyUp:function(C,D){},disable:function(){var C=this.getInputElement();C.setAttribute('disabled','true');C.addClass('cke_disabled');},enable:function(){var C=this.getInputElement();C.removeAttribute('disabled');C.removeClass('cke_disabled');}};j.dialog.hbox.prototype=e.extend(new j.dialog.uiElement(),{getChild:function(C){var D=this;if(arguments.length<1)return D._.children.concat();if(!C.splice)C=[C];if(C.length<2)return D._.children[C[0]];else return D._.children[C[0]]&&D._.children[C[0]].getChild?D._.children[C[0]].getChild(C.slice(1,C.length)):null;}},true);j.dialog.vbox.prototype=new j.dialog.hbox();(function(){var C={build:function(D,E,F){var G=E.children,H,I=[],J=[];for(var K=0;K<G.length&&(H=G[K]);K++){var L=[];I.push(L);J.push(a.dialog._.uiElementBuilders[H.type].build(D,H,L));}return new j.dialog[E.type](D,J,I,F,E);}};a.dialog.addUIElement('hbox',C);a.dialog.addUIElement('vbox',C);})();a.dialogCommand=function(C){this.dialogName=C;};a.dialogCommand.prototype={exec:function(C){C.openDialog(this.dialogName);}};(function(){var C=/^([a]|[^a])+$/,D=/^\d*$/,E=/^\d*(?:\.\d+)?$/;a.VALIDATE_OR=1;a.VALIDATE_AND=2;a.dialog.validate={functions:function(){return function(){var L=this;var F=L&&L.getValue?L.getValue():arguments[0],G=undefined,H=2,I=[],J;for(J=0;J<arguments.length;J++)if(typeof arguments[J]=='function')I.push(arguments[J]);
else break;if(J<arguments.length&&typeof arguments[J]=='string'){G=arguments[J];J++;}if(J<arguments.length&&typeof arguments[J]=='number')H=arguments[J];var K=H==2?true:false;for(J=0;J<I.length;J++)if(H==2)K=K&&I[J](F);else K=K||I[J](F);if(!K){if(G!==undefined)alert(G);if(L&&(L.select||L.focus))L.select||L.focus();return false;}return true;};},regex:function(F,G){return function(){var I=this;var H=I&&I.getValue?I.getValue():arguments[0];if(!F.test(H)){if(G!==undefined)alert(G);if(I&&(I.select||I.focus))if(I.select)I.select();else I.focus();return false;}return true;};},notEmpty:function(F){return this.regex(C,F);},integer:function(F){return this.regex(D,F);},number:function(F){return this.regex(E,F);},equals:function(F,G){return this.functions(function(H){return H==F;},G);},notEqual:function(F,G){return this.functions(function(H){return H!=F;},G);}};})();})();e.extend(a.editor.prototype,{openDialog:function(k){var l=a.dialog._.dialogDefinitions[k];if(typeof l=='function'){var m=this._.storedDialogs||(this._.storedDialogs={}),n=m[k]||(m[k]=new a.dialog(this,k));n.show();return n;}var o=a.document.getBody(),p=o.$.style.cursor,q=this;o.setStyle('cursor','wait');a.scriptLoader.load(a.getUrl(l),function(){q.openDialog(k);o.setStyle('cursor',p);});return null;}});i.dialog_backgroundCoverColor='white';i.dialog_backgroundCoverOpacity=0.5;i.dialog_magnetDistance=20;a.plugins.add('dialogui');(function(){var k=function(r){var u=this;u._||(u._={});u._['default']=[r['default']||''];var s=[u._];for(var t=1;t<arguments.length;t++)s.push(arguments[t]);s.push(true);e.extend.apply(e,s);return u._;},l={build:function(r,s,t){return new j.dialog.textInput(r,s,t);}},m={build:function(r,s,t){return new j.dialog[s.type](r,s,t);}},n={isChanged:function(){return this.getValue()!=this.getDefault();},reset:function(){this.setValue(this.getDefault());},getDefault:function(){var r=this._['default'];return r[r.length-1];},pushDefault:function(){this._['default'].push(this.getValue());},popDefault:function(){this._['default'].pop();}},o=e.extend({},j.dialog.uiElement.prototype.eventProcessors,{onChange:function(r,s){if(!this._.domOnChangeRegistered){r.on('load',function(){this.getInputElement().on('change',function(){this.fire('change',{value:this.getValue()});},this);},this);this._.domOnChangeRegistered=true;}this.on('change',s);}},true),p=/^on([A-Z]\w+)/,q=function(r){for(var s in r)if(p.test(s)||s=='title'||s=='type')delete r[s];return r;};e.extend(j.dialog,{labeledElement:function(r,s,t,u){if(arguments.length<4)return;
var v=k.call(this,s);v.labelId=e.getNextNumber()+'_label';var w=this._.children=[],x=function(){var y=[];if(s.labelLayout!='horizontal')y.push('<div class="cke_dialog_ui_labeled_label" id="',v.labelId,'" >',e.htmlEncode(s.label),'</div>','<div class="cke_dialog_ui_labeled_content">',u(r,s),'</div>');else{var z={type:'hbox',widths:s.widths,padding:0,children:[{type:'html',html:'<span class="cke_dialog_ui_labeled_label" id="'+v.labelId+'">'+e.htmlEncode(s.label)+'</span>'},{type:'html',html:'<span class="cke_dialog_ui_labeled_content">'+u(r,s)+'</span>'}]};a.dialog._.uiElementBuilders.hbox.build(r,z,y);}return y.join('');};j.dialog.uiElement.call(this,r,s,t,'div',null,null,x);},textInput:function(r,s,t){if(arguments.length<3)return;k.call(this,s);var u=this._.inputId=e.getNextNumber()+'_textInput',v={'class':'cke_dialog_ui_input_'+s.type,id:u},w;if(s.validate)this.validate=s.validate;if(s.maxLength)v.maxlength=s.maxLength;if(s.size)v.size=s.size;var x=this;r.on('load',function(){x.getInputElement().on('keyup',function(z){if(z.data.$.keyCode==13)r.getButton('ok')&&r.getButton('ok').click();});});var y=function(){var z=['<div class="cke_dialog_ui_input_',s.type,'"><input '];for(var A in v)z.push(A+'="'+v[A]+'" ');z.push(' /></div>');return z.join('');};j.dialog.labeledElement.call(this,r,s,t,y);},textarea:function(r,s,t){if(arguments.length<3)return;k.call(this,s);var u=this,v=this._.inputId=e.getNextNumber()+'_textarea',w={};if(s.validate)this.validate=s.validate;w.rows=s.rows||5;w.cols=s.cols||20;var x=function(){var y=['<div class="cke_dialog_ui_input_textarea"><textarea class="cke_dialog_ui_input_textarea" id="',v,'" '];for(var z in w)y.push(z+'="'+e.htmlEncode(w[z])+'" ');y.push('>',e.htmlEncode(u.getDefault()),'</textarea></div>');return y.join('');};j.dialog.labeledElement.call(this,r,s,t,x);},checkbox:function(r,s,t){if(arguments.length<3)return;var u=k.call(this,s,{'default':[s.checked||false]});if(s.validate)this.validate=s.validate;var v=function(){var w=e.extend({},s,{id:s.id?s.id+'_checkbox':e.getNextNumber()+'_checkbox'},true),x=[],y={'class':'cke_dialog_ui_checkbox_input',type:'checkbox'};q(w);if(s.checked)y.checked='checked';u.checkbox=new j.dialog.uiElement(r,w,x,'input',null,y);x.push(' ',e.htmlEncode(s.label));return x.join('');};j.dialog.uiElement.call(this,r,s,t,'label',null,null,v);},radio:function(r,s,t){if(arguments.length<3)return;k.call(this,s);if(!this.getDefault())this._['default']=[s.items[0][1]];if(s.validate)this.validate=s.valdiate;
var u=[],v=this,w=function(){var x=[],y=[],z={'class':'cke_dialog_ui_radio_item'},A=s.id?s.id+'_radio':e.getNextNumber()+'_radio';for(var B=0;B<s.items.length;B++){var C=s.items[B],D=C[2]!==undefined?C[2]:C[0],E=C[1]!==undefined?C[1]:C[0],F=e.extend({},s,{id:e.getNextNumber()+'_radio_input',title:null,type:null},true),G=e.extend({},F,{id:null,title:D},true),H=[],I={type:'radio','class':'cke_dialog_ui_radio_input',name:A,value:E};if(v.getDefault()==E)I.checked='checked';q(F);q(G);u.push(new j.dialog.uiElement(r,F,H,'input',null,I));new j.dialog.uiElement(r,G,x,'label',null,null,H.join('')+' '+C[0]);}new j.dialog.hbox(r,[],x,y);return y.join('');};j.dialog.labeledElement.call(this,r,s,t,w);this._.children=u;},button:function(r,s,t){if(arguments.length<3)return;if(typeof s=='function')s=s(r.getParentEditor());k.call(this,s,{disabled:s.disabled||false});var u=function(){return['<tbody><tr><td class="cke_dialog_ui_button_txt">',e.htmlEncode(s.label),'</td></tr></tbody>'].join('');};a.event.implementOn(this);var v=this;r.on('load',function(y){var z=this.getElement();z.on('mousedown',function(A){if(v._.disabled)return;v.getElement().addClass('active');j.dialog.button._.activeButton=[v,v.getElement()];});if(c)z.getChild([0,0,0]).$.innerHTML+='';if(!y.data.buttonHandlerRegistered){a.document.on('mouseup',function(A){var B=A.data.getTarget(),C=j.dialog.button._.activeButton;if(!C)return;C[1].removeClass('active');if(C[1].equals(B.getAscendant('table')))C[0].fire('click',{dialog:C[0].getDialog()});j.dialog.button._.activeButton=null;});y.data.buttonHandlerRegistered=true;}this.getElement().unselectable();},this);var w={},x=s.align||(r.getParentEditor().lang.dir=='ltr'?'left':'right');if(c&&b.version<8)w.margin=['auto',x=='right'?'0px':'auto','auto',x=='left'?'0px':'auto'].join(' ');j.dialog.uiElement.call(this,r,s,t,'table',w,{align:x},u);},select:function(r,s,t){if(arguments.length<3)return;var u=k.call(this,s);if(s.validate)this.validate=s.validate;var v=function(){var w=e.extend({},s,{id:s.id?s.id+'_select':e.getNextNumber()+'_select'},true),x=[],y=[],z={'class':'cke_dialog_ui_input_select'};if(s.size!=undefined)z.size=s.size;if(s.multiple!=undefined)z.multiple=s.multiple;q(w);for(var A=0,B;A<s.items.length&&(B=s.items[A]);A++)y.push('<option value="',e.htmlEncode(B[1]!==undefined?B[1]:B[0]),'" /> ',e.htmlEncode(B[0]));u.select=new j.dialog.uiElement(r,w,x,'select',null,z,y.join(''));return x.join('');};j.dialog.labeledElement.call(this,r,s,t,v);},file:function(r,s,t){if(arguments.length<3)return;
if(s['default']===undefined)s['default']='';var u=e.extend(k.call(this,s),{definition:s,buttons:[]});if(s.validate)this.validate=s.validate;var v=function(){u.frameId=e.getNextNumber()+'_fileInput';var w=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" id="',u.frameId,'" src="javascript: void(0)" ></iframe>'];return w.join('');};r.on('load',function(){var w=a.document.getById(u.frameId),x=w.getParent();x.addClass('cke_dialog_ui_input_file');});j.dialog.labeledElement.call(this,r,s,t,v);},fileButton:function(r,s,t){if(arguments.length<3)return;var u=k.call(this,s),v=this;if(s.validate)this.validate=s.validate;var w=e.extend({},s);w.className=(w.className?w.className+' ':'')+('cke_dialog_ui_button');w.onClick=function(x){var y=s['for'];r.getContentElement(y[0],y[1]).submit();this.disable();};r.on('load',function(){r.getContentElement(s['for'][0],s['for'][1])._.buttons.push(v);});j.dialog.button.call(this,r,w,t);},html:(function(){var r=/^\s*<[\w:]+\s+([^>]*)?>/,s=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,t=/\/$/;return function(u,v,w){if(arguments.length<3)return;var x=[],y,z=v.html,A,B;if(z.charAt(0)!='<')z='<span>'+z+'</span>';j.dialog.uiElement.call(this,u,v,x,'span',null,null,'');y=x.join('');A=y.match(r);B=z.match(s)||['','',''];if(t.test(B[1])){B[1]=B[1].slice(0,-1);B[2]='/'+B[2];}w.push([B[1],' ',A[1]||'',B[2]].join(''));};})()},true);j.dialog.html.prototype=new j.dialog.uiElement();j.dialog.labeledElement.prototype=e.extend(new j.dialog.uiElement(),{setLabel:function(r){var s=a.document.getById(this._.labelId);if(s.getChildCount()<1)new d.text(r,a.document).appendTo(s);else s.getChild(0).$.nodeValue=r;return this;},getLabel:function(){var r=a.document.getById(this._.labelId);if(!r||r.getChildCount()<1)return '';else return r.getChild(0).getText();},eventProcessors:o},true);j.dialog.button.prototype=e.extend(new j.dialog.uiElement(),{click:function(){if(!this._.disabled)return this.fire('click',{dialog:this._.dialog});},enable:function(){this._.disabled=false;this.getElement().removeClass('disabled');},disable:function(){this._.disabled=true;this.getElement().addClass('disabled');},eventProcessors:e.extend({},j.dialog.uiElement.prototype.eventProcessors,{onClick:function(r,s){this.on('click',s);}},true),accessKeyUp:function(){this.getElement().removeClass('active');this.click();},accessKeyDown:function(){this.getElement().addClass('active');}},true);j.dialog.textInput.prototype=e.extend(new j.dialog.labeledElement(),{getInputElement:function(){return a.document.getById(this._.inputId);
},focus:function(){var r=this.selectParentTab();setTimeout(function(){r.getInputElement().$.focus();},0);},select:function(){var r=this.selectParentTab();setTimeout(function(){var s=r.getInputElement().$;s.focus();s.select();},0);},accessKeyUp:function(){this.select();}},n,true);j.dialog.textarea.prototype=new j.dialog.textInput();j.dialog.select.prototype=e.extend(new j.dialog.labeledElement(),{getInputElement:function(){return this._.select.getElement();},add:function(r,s,t){var u=new g('option',this.getDialog().getParentEditor().document),v=this.getInputElement().$;u.$.text=r;u.$.value=s===undefined||s===null?r:s;if(t===undefined||t===null)if(c)v.add(u.$);else v.add(u.$,null);else v.add(u.$,t);return this;},remove:function(r){var s=this.getInputElement().$;s.remove(r);return this;},clear:function(){var r=this.getInputElement().$;while(r.length>0)r.remove(0);return this;}},n,true);j.dialog.checkbox.prototype=e.extend(new j.dialog.uiElement(),{getInputElement:function(){return this._.checkbox.getElement();},setValue:function(r){this.getInputElement().$.checked=r;this.fire('change',{value:r});},getValue:function(){return this.getInputElement().$.checked;},accessKeyUp:function(){this.setValue(!this.getValue());},eventProcessors:{onChange:function(r,s){if(!c)return o.onChange.apply(this,arguments);else{r.on('load',function(){var t=this._.checkbox.getElement();t.on('propertychange',function(u){u=u.data.$;if(u.propertyName=='checked')this.fire('change',{value:t.$.checked});},this);},this);this.on('change',s);}return null;}}},n,true);j.dialog.radio.prototype=e.extend(new j.dialog.uiElement(),{setValue:function(r){var s=this._.children,t;for(var u=0;u<s.length&&(t=s[u]);u++)t.getElement().$.checked=t.getValue()==r;this.fire('change',{value:r});},getValue:function(){var r=this._.children;for(var s=0;s<r.length;s++)if(r[s].getElement().$.checked)return r[s].getValue();return null;},accessKeyUp:function(){var r=this._.children,s;for(s=0;s<r.length;s++)if(r[s].getElement().$.checked){r[s].getElement().focus();return;}r[0].getElement().focus();},eventProcessors:{onChange:function(r,s){if(!c)return o.onChange.apply(this,arguments);else{r.on('load',function(){var t=this._.children,u=this;for(var v=0;v<t.length;v++){var w=t[v].getElement();w.on('propertychange',function(x){x=x.data.$;if(x.propertyName=='checked'&&this.$.checked)u.fire('change',{value:this.getAttribute('value')});});}},this);this.on('change',s);}return null;}}},n,true);j.dialog.file.prototype=e.extend(new j.dialog.labeledElement(),n,{getInputElement:function(){return new g(a.document.getById(this._.frameId).$.contentWindow.document.forms[0].elements[0]);
},submit:function(){this.getInputElement().getParent().$.submit();return this;},reset:function(){var r=a.document.getById(this._.frameId),s=r.$.contentWindow.document,t=this._.definition,u=this._.buttons;s.open();s.write(['<html><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" action="',e.htmlEncode(t.action),'">','<input type="file" name="',e.htmlEncode(t.id||'cke_upload'),'" size="',e.htmlEncode(t.size||''),'" />','</form>','</body></html>'].join(''));s.close();for(var v=0;v<u.length;v++)u[v].enable();},eventProcessors:o},true);j.dialog.fileButton.prototype=new j.dialog.button();j.dialog.button._={activeButton:null};a.dialog.addUIElement('text',l);a.dialog.addUIElement('password',l);a.dialog.addUIElement('textarea',m);a.dialog.addUIElement('checkbox',m);a.dialog.addUIElement('radio',m);a.dialog.addUIElement('button',m);a.dialog.addUIElement('select',m);a.dialog.addUIElement('file',m);a.dialog.addUIElement('fileButton',m);a.dialog.addUIElement('html',m);})();a.skins.add('default',(function(){var k=[],l=[];if(c&&b.version<=6)k.push('icons.gif','images/sprites.gif','images/dialog.sides.gif');return{preload:k,editor:{css:['editor.css']},dialog:{css:['dialog.css'],js:l}};})());(function(){var k='default',l=function(m,n,o,p){var q=n?m.parts[n]:m._.element.getFirst();if(o)q.setStyle('width',o+'px');if(p)q.setStyle('height',p+'px');};if(a.dialog){a.dialog.setMargins(0,14,18,14);a.dialog.on('resize',function(m){var n=m.data,o=n.width,p=n.height,q=n.dialog,r=a.document.$.compatMode=='CSS1Compat';if(n.skin!=k)return;l(q,'t',o-32,16);l(q,'t_resize',o-32,null);l(q,'l',16,p-67);l(q,'l_resize',null,p-22);l(q,'c',o-32,p-67);l(q,'r',16,p-67);l(q,'r_resize',null,p-22);l(q,'b',o-60,51);l(q,'b_resize',o-32,null);l(q,'tabs_table',o-32,null);if(c){var s=o-34,t=q.getPageCount()>1?p-106:p-84,u=q.parts.contents.getChildCount();if(!r){s+=2;t+=2;q.parts.tabs.setStyle('top','33px');}l(q,'title',r?o-52:o-32,r?null:31);l(q,'contents',s,t);l(q,'footer',o-32);for(var v=0;v<u;v++){var w=q.parts.contents.getChild(v);if(w instanceof g&&(w.$.className||'').search('cke_dialog_page_contents')>-1)w.setStyles({width:s-(r?20:0)+'px',height:t-(r?20:0)+'px'});}}l(q,null,o,p);});}})();a.themes.add('default',(function(){var k='cke_browser_'+(c?'ie':b.gecko?'gecko':b.opera?'opera':b.air?'air':b.webkit?'webkit':'unknown');return{build:function(l,m){var n=l.name,o=l.element,p=l.elementMode;if(!o||p==0)return;
if(p==1)o.hide();var q=l.fire('themeSpace',{space:'top',html:''}).html,r=l.fire('themeSpace',{space:'contents',html:''}).html,s=l.fireOnce('themeSpace',{space:'bottom',html:''}).html,t=r&&l.config.height,u=l.config.width;if(!r)t='auto';else if(!isNaN(t))t+='px';if(!isNaN(u))u+='px';var v=g.createFromHtml(['<span id="cke_',n,'" onmousedown="return false;" class="cke_container cke_skin_',l.config.skin,' ',k,' cke_',l.lang.dir,'" dir="',l.lang.dir,'"><table class="cke_editor" border="0" cellspacing="0" cellpadding="0" style="width:',u,';height:',t,'"><tbody><tr',q?'':' style="display:none"','><td id="cke_top_',n,'" class="cke_top">',q,'</td></tr><tr',r?'':' style="display:none"','><td id="cke_contents_',n,'" class="cke_contents" style="height:100%">',r,'</td></tr><tr',s?'':' style="display:none"','><td id="cke_bottom_',n,'" class="cke_bottom">',s,'</td></tr></tbody></table><style>.cke_container{visibility:hidden;}</style></span>'].join(''));v.getChild([0,0,0]).unselectable();v.getChild([0,0,2]).unselectable();if(p==1)v.insertAfter(o);else o.append(v);l.container=v;l.fireOnce('themeLoaded');l.fireOnce('uiReady');},buildDialog:function(l){var m=e.getNextNumber(),n=g.createFromHtml(['<div class="cke_skin_',l.config.skin,' ',k,' ',a.document.$.compatMode=='CSS1Compat'?'cke_mode_standards':'cke_mode_quirks',' cke_',l.lang.dir,'" dir="',l.lang.dir,'"><div id="%#" class="cke_dialog" style="position:',b.ie6Compat?'absolute;':'fixed;','">','<div><div id="%tl_#" class="%tl"><div id="%tl_resize_#" class="%tl_resize"></div></div><div id="%t_#" class="%t"><div id="%t_resize_#" class="%t_resize"></div></div><div id="%tr_#" class="%tr"><div id="%tr_resize_#" class="%tr_resize"></div></div></div><div><div id="%l_#" class="%l"><div id="%l_resize_#" class="%l_resize"></div></div><div id="%c_#" class="%c"><div id="%title_#" class="%title"><div id="%close_button_#" class="%close_button"></div></div><table id="%tabs_#" class="%tabs" cellpadding="0" border="0" cellspacing="0"><tbody><tr><td class="head_filler">&nbsp;</td><td class="tail_filler">&nbsp;</td></tr></tbody></table><div id="%contents_#" class="%contents"></div><div id="%footer_#" class="%footer"></div></div><div id="%r_#" class="%r"><div id="%r_resize_#" class="%r_resize"></div></div></div><div><div id="%bl_#" class="%bl"><div id="%bl_resize_#" class="%bl_resize"></div></div><div id="%b_#" class="%b"><div id="%b_resize_#" class="%b_resize"></div></div><div id="%br_#" class="%br"><div id="%br_resize_#" class="%br_resize"></div></div></div></div>',c?'':'<style>.cke_dialog{visibility:hidden;}</style>','</div>'].join('').replace(/#/g,m).replace(/%/g,'cke_dialog_'));
n.getChild([0,1,1,0]).unselectable();return{element:n,titleId:'cke_dialog_title_'+m,contentsId:'cke_dialog_contents_'+m,footerId:'cke_dialog_footer_'+m,closeIds:['cke_dialog_close_button_'+m],dragIds:['cke_dialog_title_'+m,'cke_dialog_tabs_'+m]};},destroy:function(l){var m=l.container;if(m)m.remove();if(l.elementMode==1)l.element.show();}};})());a.editor.prototype.getThemeSpace=function(k){var l='cke_'+k,m=this._[l]||(this._[l]=a.document.getById(l+'_'+this.name));return m;};})();
