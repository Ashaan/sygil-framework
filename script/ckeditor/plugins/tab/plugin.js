/*
Copyright (c) 2003-2009, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/

(function(){var a=function(d,e){var f=d.container;if(f){var g=new CKEDITOR.dom.element('span');g.setAttribute('tabindex',d.container.getTabIndex());g.hide();if(e){g.insertBefore(d.container);g.focusPrevious();}else{g.insertAfter(d.container);g.focusNext();}g.remove();}return f;},b={exec:function(d){return a(d);}},c={exec:function(d){return a(d,true);}};CKEDITOR.plugins.add('tab',{requires:['keystrokes'],init:function(d,e){var f=d.keystrokeHandler.keystrokes;f[9]='tab';f[CKEDITOR.SHIFT+9]='shiftTab';var g=d.config.tabSpaces,h='';while(g--)h+=' ';d.addCommand('tab',{exec:function(i){if(!i.fire('tab'))if(h.length>0){}else return i.execCommand('blur');return true;}});d.addCommand('shiftTab',{exec:function(i){if(!i.fire('shiftTab'))return i.execCommand('blurBack');return true;}});d.addCommand('blur',b);d.addCommand('blurBack',c);}});})();CKEDITOR.dom.element.prototype.focusNext=function(){var a=this.$,b=this.getTabIndex(),c=false,d,e,f=document.body.all||document.body.getElementsByTagName('*');if(b<=0)for(var g=0,h;h=f[g];g++){if(!c){if(h==a)c=true;continue;}h=new CKEDITOR.dom.element(h);if(h.getComputedStyle('display')=='none'||h.getComputedStyle('visibility')=='hidden')continue;if(h.getTabIndex()===0){d=h;break;}}else for(g=0,h;h=f[g];g++){if(!c&&h==a){c=true;continue;}h=new CKEDITOR.dom.element(h);if(h.getComputedStyle('display')=='none'||h.getComputedStyle('visibility')=='hidden')continue;var i=h.getTabIndex();if(c&&i==b){d=h;break;}else if(i>b&&(!d||e>i||e===0)){d=h;e=i;}else if(!d&&i===0){d=h;e=i;}}if(d)d.focus();};CKEDITOR.dom.element.prototype.focusPrevious=function(){var a=this.$,b=this.getTabIndex(),c=false,d,e,f=document.body.all||document.body.getElementsByTagName('*');if(b<=0)for(var g=0,h;h=f[g];g++){if(!c&&h==a){if(d&&e===0)break;c=true;continue;}h=new CKEDITOR.dom.element(h);if(h.getComputedStyle('display')=='none'||h.getComputedStyle('visibility')=='hidden')continue;var i=h.getTabIndex();if(!c&&i===0||i>0&&(!d||e>0&&e<=i)){d=h;e=i;}}else for(g=0,h;h=f[g];g++){if(!c&&h==a){if(d&&e==b)break;c=true;continue;}h=new CKEDITOR.dom.element(h);i=h.getTabIndex();if(i>0)if(!c&&i==b||i<b&&(!d||e<=i)){d=h;e=i;}}if(d)d.focus();};CKEDITOR.config.tabSpaces=0;
