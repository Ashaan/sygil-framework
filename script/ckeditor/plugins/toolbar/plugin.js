/*
Copyright (c) 2003-2009, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/

(function(){var a=function(){this.toolbars=[];};a.prototype.focus=function(){for(var c=0,d;d=this.toolbars[c++];)for(var e=0,f;f=d.items[e++];)if(f.focus){f.focus();return;}};var b={toolbarFocus:{exec:function(c){if(c.toolbox)c.toolbox.focus();}}};CKEDITOR.plugins.add('toolbar',{init:function(c,d){var e=function(f,g){switch(g){case 39:case 9:while((f=f.next||f.toolbar.next&&f.toolbar.next.items[0])&&(!f.focus)){}if(f)f.focus();else c.toolbox.focus();return false;case 37:case CKEDITOR.SHIFT+9:while((f=f.previous||f.toolbar.previous&&f.toolbar.previous.items[f.toolbar.previous.items.length-1])&&(!f.focus)){}if(f)f.focus();else{var h=c.toolbox.toolbars[c.toolbox.toolbars.length-1].items;h[h.length-1].focus();}return false;case 27:c.focus();return false;case 13:case 32:f.execute();return false;}return true;};c.on('themeSpace',function(f){if(f.data.space==c.config.toolbarLocation){c.toolbox=new a();var g=['<div class="cke_toolbox">'],h=c.toolbox.toolbars,i=c.config.toolbar;for(var j=0;j<i.length;j++){var k=i[j],l='cke_'+CKEDITOR.tools.getNextNumber(),m={id:l,items:[]};g.push('<div id="',l,'" class="cke_toolbar">');var n=h.push(m)-1;if(n>0){m.previous=h[n-1];m.previous.next=m;}for(var o=0;o<k.length;o++){var p,q=k[o];if(q=='-')p=CKEDITOR.ui.separator;else p=c.ui.get(q);if(p){var r=p.render(c,g);n=m.items.push(r)-1;if(n>0){r.previous=m.items[n-1];r.previous.next=r;}r.toolbar=m;r.onkey=e;}}g.push('</div>');}g.push('</div>');f.data.html+=g.join('');}});c.addCommand('toolbarFocus',b.toolbarFocus);}});})();CKEDITOR.ui.separator={render:function(a,b){b.push('<span class="cke_separator"></span>');return{};}};CKEDITOR.config.toolbarLocation='top';CKEDITOR.config.toolbar=[['Source','-','NewPage','-','Bold','Italic','Underline','Strike','-','Subscript','Superscript','-','SelectAll','RemoveFormat','-','Smiley','HorizontalRule','SpecialChar']];
