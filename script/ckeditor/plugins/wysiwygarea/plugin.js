/*
Copyright (c) 2003-2009, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/

(function(){var a=/(<(?!br|hr|base|meta|link|param|img|area|input|col)([a-zA-Z0-9:]+)[^>]*)\/>/gi,b=/<[^\>]+ on\w+\s*=[\s\S]+?\>/g,c=/\s(on\w+)(?=\s*=\s*?('|")[\s\S]*?\2)/g,d=/_cke_pa_/g,e=function(r){return r.replace(b,f);},f=function(r){return r.replace(c,' _cke_pa_$1');},g=function(r){return r.replace(d,'');},h=/<(?:a|area|img)(?=\s).*?\s(?:href|src)=((?:(?:\s*)("|').*?\2)|(?:[^"'][^ >]+))/gi,i=/\s(href|src)(\s*=\s*?('|")[\s\S]*?\3)/gi,j=/<(?:a|area|img)(?=\s)(?:"[^"]*"|'[^']*'|[^<])*>/gi,k=/_cke_saved_/gi,l=function(r){return r.replace(h,m);},m=function(r){return r.replace(i,'$& _cke_saved_$1$2');},n=function(r){return r.replace(j,o);},o=function(r){return r.replace(i,'').replace(k,'');},p=function(r){if(this.mode=='wysiwyg'){var s=this.document.$;if(CKEDITOR.env.ie)s.selection.createRange().pasteHTML(r.data);else s.execCommand('inserthtml',false,r.data);}},q=function(r){if(this.mode=='wysiwyg'){var s=r.data,t=CKEDITOR.dtd.$block[s.getName()],u=this.getSelection(),v=u.getRanges(),w,x,y,z;for(var A=v.length-1;A>=0;A--){w=v[A];w.deleteContents();x=s.clone(true);if(this.config.enterMode!='br'&&t)w.splitBlock();w.insertNode(x);if(!y)y=x;}w.moveToPosition(y,CKEDITOR.POSITION_AFTER_END);u.selectRanges([w]);}};CKEDITOR.plugins.add('wysiwygarea',{requires:['editingblock'],init:function(r,s){r.on('editingBlockReady',function(){var t,u,v,w,x,y=CKEDITOR.env.ie&&document.domain!=window.location.hostname,z=function(){if(u)u.remove();u=new CKEDITOR.dom.element('iframe').setAttributes({frameBorder:0,allowTransparency:true}).setStyles({width:'100%',height:'100%'});if(CKEDITOR.env.ie)if(y)u.setAttribute('src','javascript:void( (function(){document.open();document.domain="'+document.domain+'";'+'document.write( window.parent._cke_htmlToLoad_'+r.name+' );'+'document.close();'+'window.parent._cke_htmlToLoad_'+r.name+' = null;'+'})() )');else u.setAttribute('src','javascript:void(0)');t.append(u);},A='<script id="cke_actscrpt" type="text/javascript">window.onload = function(){var s = document.getElementById( "cke_actscrpt" );s.parentNode.removeChild( s );window.parent.CKEDITOR._.contentDomReady'+r.name+'( window );'+'}'+'</script>',B=function(C){delete CKEDITOR._['contentDomReady'+r.name];var D=C.document,E=D.body;E.spellcheck=!r.config.disableNativeSpellChecker;if(CKEDITOR.env.ie){E.hideFocus=true;E.disabled=true;E.contentEditable=true;E.removeAttribute('disabled');}else D.designMode='on';try{D.execCommand('enableObjectResizing',false,!r.config.disableObjectResizing);}catch(H){}try{D.execCommand('enableInlineTableEditing',false,!r.config.disableNativeTableHandles);
}catch(I){}C=r.window=new CKEDITOR.dom.window(C);D=r.document=new CKEDITOR.dom.document(D);var F=CKEDITOR.env.ie||CKEDITOR.env.safari?C:D;F.on('blur',function(){r.focusManager.blur();});F.on('focus',function(){r.focusManager.focus();});var G=r.keystrokeHandler;if(G)G.attach(D);r.fire('contentDom');if(x){r.mode='wysiwyg';r.fire('mode');x=false;}v=false;if(w)r.focus();};r.addMode('wysiwyg',{load:function(C,D,E){t=C;if(!y||!CKEDITOR.env.gecko)z();r.mayBeDirty=true;x=true;if(E)this.loadSnapshotData(D);else this.loadData(D);},loadData:function(C){v=true;if(r.dataProcessor)C=r.dataProcessor.toHtml(C);if(CKEDITOR.env.ie)C=C.replace(a,'$1></$2>');if(CKEDITOR.env.ie||CKEDITOR.env.webkit)C=e(C);C=l(C);if(r.fakeobjects)C=r.fakeobjects.protectHtml(C);C=r.config.docType+'<html dir="'+r.config.contentsLangDirection+'">'+'<head>'+'<link href="'+r.config.contentsCss+'" type="text/css" rel="stylesheet" _fcktemp="true"/>'+'</head>'+'<body>'+C+'</body>'+'</html>'+A;if(y)window['_cke_htmlToLoad_'+r.name]=C;CKEDITOR._['contentDomReady'+r.name]=B;if(y||CKEDITOR.env.gecko)z();if(!y){var D=u.$.contentWindow.document;D.open();D.write(C);D.close();}},getData:function(){var C=u.$.contentWindow.document.body;if(r.dataProcessor)C=r.dataProcessor.toDataFormat(new CKEDITOR.dom.element(C));else C=C.innerHTML;C=g(C);C=n(C);if(r.fakeobjects)C=r.fakeobjects.restoreHtml(C);return C;},getSnapshotData:function(){return u.$.contentWindow.document.body.innerHTML;},loadSnapshotData:function(C){u.$.contentWindow.document.body.innerHTML=C;},unload:function(C){r.window=r.document=u=t=w=null;r.fire('contentDomUnload');},focus:function(){if(v)w=true;else if(r.window)r.window.focus();}});r.on('insertHtml',p,null,null,20);r.on('insertElement',q,null,null,20);});}});})();CKEDITOR.config.disableObjectResizing=false;CKEDITOR.config.disableNativeTableHandles=true;CKEDITOR.config.disableNativeSpellChecker=true;
